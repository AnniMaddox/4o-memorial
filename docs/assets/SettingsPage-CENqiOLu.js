import{r as c,fq as Ts,fr as bt,fs as Is,j as e,cz as d,ft as M}from"./index-BxZ6hScr.js";const j="customFontUrlSlots",Ue=10,q=Array.from({length:Ue},(s,f)=>f);function C(s,f){return Array.isArray(s)?Array.from({length:Ue},(F,w)=>{const y=s[w];return typeof y=="string"?y.trim():""}):[...f]}const L=[{key:"app",label:"æ•´ç«™",hint:"ä¸»æ¨™é¡Œ / é ç±¤ç­‰åŸºåº•å­—é«”"},{key:"letter",label:"æƒ…æ›¸",hint:"æƒ…æ›¸é é–±è®€æ–‡å­—"},{key:"diary",label:"æ—¥è¨˜",hint:"M æ—¥è¨˜ / Anni æ—¥è¨˜ / é¡˜æœ›"},{key:"soulmate",label:"å®¶é ",hint:"å®¶é–±è®€é "}],Ds=[{key:"uiHeaderTitleSize",label:"é é¦–æ¨™é¡Œ",hint:"Mæ—¥è¨˜ / Anniæ—¥è¨˜ / ç¶“æœŸ / é¡˜æœ› / å°è©±é æ¨™é¡Œ",min:14,max:24,step:1},{key:"uiTabLabelSize",label:"é ç±¤æ–‡å­—",hint:"é–±è®€/æœˆæ›†/æ ¼ç‹€ã€é¡˜æœ›/æ¸…å–®/ç”Ÿæ—¥ä»»å‹™ ç­‰é ç±¤",min:6,max:24,step:1},{key:"uiFilterPillSize",label:"ç¯©é¸ç±¤æ¢",hint:"å…¨éƒ¨/æ”¶è—/æœªçŸ¥æ™‚åˆ»/å·²å®Œæˆ/æœªå®Œæˆ",min:9,max:16,step:1},{key:"uiHintTextSize",label:"æç¤ºå°å­—",hint:"å·²å®Œæˆè¨ˆæ•¸ã€æ»‘å‹•æç¤ºã€ç´°ç¯€å°å­—",min:8,max:14,step:1},{key:"chatContactNameSize",label:"å°è©±è¯çµ¡äººå",hint:"å°è©±é¦–é å¡ç‰‡ä¸Šçš„å¤§åç¨±ï¼ˆä¾‹å¦‚ Mï¼‰",min:12,max:38,step:1},{key:"chatContactSubtitleSize",label:"å°è©±è¯çµ¡äººå‰¯æ¨™",hint:"å°è©±é¦–é å¡ç‰‡ä¸Šçš„å‰¯æ¨™ï¼ˆä¾‹å¦‚ ä½ â™¡ï¼‰",min:12,max:24,step:1}],Bs=["#efeff4","#f6f1e7","#eaf1f6","#f4e9ef","#eef3e6"],V=[{value:"gradientFlow",label:"ç³–éœ§å¹»å½©",hint:"R1 å½©ç³–æ•£æ™¯ï¼šç²‰é»ƒé’è—åŒå ´æ…¢æ…¢æµå‹•"},{value:"snowNight",label:"é›ªå¤œ",hint:"å†·è—æ™šéœ + è‡ªç„¶é£„é›ª"},{value:"bokehDream",label:"å¤¢å¹»æ•£æ™¯",hint:"æŸ”ç„¦å…‰æ–‘ + æ˜é¡¯è‰²ç›¸è®ŠåŒ–"},{value:"firefly",label:"å¥¶éœ§è–„è·",hint:"R2 å¥¶éœ§è–„è·ï¼šæ·¡ç¶ å¥¶ç™½è–°ç´«ï¼ŒæŸ”å’Œæ›è‰²"},{value:"meteorShower",label:"å¤œè—é–ƒè®Š",hint:"é’ç¶ ç²‰æš®è‰² + ä¸€ç¬åè—è®Šæš—ï¼ˆç´”èƒŒæ™¯ï¼‰"},{value:"skyLantern",label:"å¤¢å¹»ç”œå½©",hint:"åƒæ™šéœä¸€æ¨£ä¸€å¯¸å¯¸è‡ªç„¶æ›è‰²"},{value:"coolTwilight",label:"å¥½é…·æµç„°",hint:"Untitled-3 åŸç‰ˆç´…è—é‡‘ç´”è®Šè‰²ï¼ˆç„¡åœˆåœˆï¼‰"},{value:"prismDepth",label:"è—ç´«æ·±å¢ƒ",hint:"R3 è—ç´«æ·±åº¦ï¼šè—ç´«é’å±¤æ¬¡æ›´æ·±ã€æµå‹•æ›´æœ‰ç©ºé–“æ„Ÿ"},{value:"auroraDance",label:"Anniå°ˆå±¬ï¼šæ¥µå…‰ä¹‹èˆ",hint:"ç…§æŠ„ï¼š#00cdac â†’ #02aab0 â†’ #00cdac â†’ #8EE4AFï¼Œ15s ç·©æ…¢å¾ªç’°"}],K=[{value:"none",label:"ç„¡ç‰¹æ•ˆ",hint:"åªç•™èƒŒæ™¯ï¼Œå…ˆå°ˆå¿ƒçœ‹æ›è‰²ç¯€å¥"},{value:"orbs",label:"å…‰æšˆåœ“æ–‘",hint:"æŸ”ç„¦æ¼‚æµ®å…‰æ–‘ï¼Œå­˜åœ¨æ„Ÿä¸­ç­‰"},{value:"snow",label:"é›ªèŠ±",hint:"å‰å¾Œæ™¯å±¤æ¬¡é£„é›ªï¼Œç«‹é«”æ„Ÿæœ€å¼·"},{value:"lantern",label:"å¤©ç‡ˆä¸Šé£„",hint:"æš–è‰²å¤©ç‡ˆæ…¢æ…¢å¾€ä¸Šï¼Œå¸¶è¼•å¾®æ–æ™ƒ"},{value:"heart",label:"æ„›å¿ƒé£„æµ®",hint:"æŸ”å’Œæ„›å¿ƒç·©æ…¢ä¸Šé£„ï¼Œå¾®å¾®æ–æ™ƒ"},{value:"ribbon",label:"æŸ”å…‰å¸¶",hint:"æµå‹•å…‰æŸåƒçµ²å¸¶ä¸€æ¨£æ¼‚ç§»"},{value:"stardust",label:"æ˜Ÿå¡µæµæ˜Ÿ",hint:"ç´°äº®é» + æµæ˜Ÿæ éï¼Œå‹•æ„Ÿè¼ƒå¼·"},{value:"bubbles",label:"ä¸Šé£„æ³¡æ³¡",hint:"åƒè€ƒæ‰‹æœ­ Cï¼šå°æ³¡æ³¡ç”±ä¸‹å¾€ä¸Šæ…¢æ…¢é£„ç§»"}],Ms={home:"ğŸ ",inbox:"ğŸ“®",calendar:"ğŸ“…",tarot:"ğŸ”®",letters:"ğŸ’Œ",heart:"ğŸ’—",list:"ğŸ´",fitness:"ğŸ‹ï¸",pomodoro:"ğŸ…",period:"ğŸ©¸",diary:"ğŸ““",album:"ğŸ“·",notes:"ğŸ“",settings:"âš™ï¸"},ht=[{key:"home",label:"Home"},{key:"inbox",label:"Inbox"},{key:"calendar",label:"Calendar"},{key:"tarot",label:"Tarot"},{key:"letters",label:"Letters"},{key:"heart",label:"MY LOVE"},{key:"list",label:"List æ¸…å–®"},{key:"fitness",label:"Fitness å¥èº«"},{key:"pomodoro",label:"Pomodoro ç•ªèŒ„é˜"},{key:"period",label:"Period ç¶“æœŸæ—¥è¨˜"},{key:"diary",label:"Diary æ—¥è¨˜"},{key:"album",label:"Album ç›¸å†Š"},{key:"notes",label:"Notes ä¾¿åˆ©è²¼"},{key:"settings",label:"Settings"}],Ps=[{key:"home",label:"åº•éƒ¨åˆ†é ï¼šHome"},{key:"inbox",label:"åº•éƒ¨åˆ†é ï¼šInbox"},{key:"calendar",label:"åº•éƒ¨åˆ†é ï¼šCalendar"},{key:"settings",label:"åº•éƒ¨åˆ†é ï¼šSettings"},{key:"tarot",label:"é¦–é å…¥å£ï¼šå¡”ç¾…"},{key:"letters",label:"é¦–é å…¥å£ï¼šæƒ…æ›¸"},{key:"heart",label:"é¦–é å…¥å£ï¼šå¿ƒç‰†"},{key:"chat",label:"é¦–é å…¥å£ï¼šå°è©±"},{key:"list",label:"é¦–é å…¥å£ï¼šæ¸…å–®"},{key:"fitness",label:"é¦–é å…¥å£ï¼šå¥èº«"},{key:"pomodoro",label:"é¦–é å…¥å£ï¼šç•ªèŒ„é˜"},{key:"period",label:"é¦–é å…¥å£ï¼šç¶“æœŸæ—¥è¨˜"},{key:"diary",label:"é¦–é å…¥å£ï¼šæ—¥è¨˜"},{key:"album",label:"é¦–é å…¥å£ï¼šç›¸å†Š"},{key:"notes",label:"é¦–é å…¥å£ï¼šä¾¿åˆ©è²¼"}],As=[{key:"mDiary",label:"Mæ—¥è¨˜",hint:"mDiary.json"},{key:"letters",label:"æƒ…æ›¸",hint:"letters.json"},{key:"chatLogs",label:"å°è©±ç´€éŒ„",hint:"chatLogs.json"},{key:"inbox",label:"Inbox / æœˆæ›†",hint:"inbox.json"},{key:"soulmate",label:"æ¬å®¶è¨ˆåŠƒæ›¸",hint:"soulmate.json"}],Es=[{page:"M æ—¥è¨˜ / é¡˜æœ› / å®¶ / å¡”ç¾…è¿”å›å°äºº",path:"public/mdiary-chibi/"},{page:"å¥èº«",path:"public/fitness-chibi/"},{page:"ç•ªèŒ„é˜",path:"public/pomodoro-chibi/"},{page:"ä¾¿åˆ©è²¼",path:"public/notes-chibi/"},{page:"ä¸»æœˆæ›†",path:"public/calendar-chibi/"},{page:"å¹´åº¦ä¿¡ä»¶",path:"public/letters-ab-chibi/"},{page:"æƒ…æ›¸ï¼ˆèˆŠ LetterPageï¼‰",path:"public/letter-chibi/"},{page:"ç¶“æœŸæ—¥è¨˜",path:"public/period-chibi/"},{page:"æ‰“å¡",path:"public/checkin-chibi/"},{page:"å…¨åŸŸå¤§æ± ",path:"public/chibi/",note:"å…¶ä»–é é¢å›é€€æ± èˆ‡æ··æ± ä¾†æº"}],Os=[{path:"public/data/movies.json",target:"æ¸…å–®-ç‰‡å–®",note:"ç‰‡å–®å¡ç‰‡å…§å®¹"},{path:"public/data/songs.json",target:"æ¸…å–®-æ­Œå–®",note:"æ­Œå–®å¡ç‰‡å…§å®¹"},{path:"public/data/books.json",target:"æ¸…å–®-æ›¸å–®",note:"æ›¸å–®å¡ç‰‡å…§å®¹"},{path:"public/data/wishlist/wishes.json",target:"é¡˜æœ›é ",note:"é¡˜æœ›ï¼ˆç¿»é–±/æ¸…å–®ï¼‰å…§å®¹"},{path:"public/data/wishlist/birthday-tasks.json",target:"é¡˜æœ›é ",note:"ç”Ÿæ—¥ä»»å‹™å…§å®¹"},{path:"public/data/letters-ab/index.json",target:"å¹´åº¦ä¿¡ä»¶",note:"å¹´ä»½/æ–‡ç« ç´¢å¼•"},{path:"public/data/letters-ab/content/*.txt",target:"å¹´åº¦ä¿¡ä»¶",note:"æ¯ç¯‡æ­£æ–‡å…§å®¹"},{path:"public/data/checkin/checkin_phrases.json",target:"æ‰“å¡",note:"æ‰“å¡èªå¥ï¼ˆJSONï¼‰"},{path:"public/data/checkin/checkin_phrases.txt",target:"æ‰“å¡",note:"æ‰“å¡èªå¥ï¼ˆTXT å‚™æ´ï¼‰"},{path:"public/data/checkin/checkin_milestones.json",target:"æ‰“å¡",note:"é‡Œç¨‹ç¢‘èªå¥"},{path:"public/data/mood-letters/index.json",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"å¿ƒæƒ…ä¿¡ç´¢å¼•ï¼ˆæ¨™é¡Œ / åˆ†é¡ / è·¯å¾‘ï¼‰"},{path:"public/data/mood-letters/content/*.txt",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"æ¯å°ä¿¡æ­£æ–‡ï¼ˆç”±è…³æœ¬è‡ªå‹•ç”¢ç”Ÿï¼‰"},{path:"public/data/mood-letters/overrides.json",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"å¿ƒæƒ…åˆ†é¡äººå·¥è¦†è“‹ï¼ˆä¿®æ­£ï¼‰"},{path:"public/data/mood-letters/review.json",target:"å¿ƒæƒ…æ˜Ÿçƒ",note:"å¾…äººå·¥ç¢ºèªæ¸…å–®ï¼ˆè…³æœ¬è¼¸å‡ºï¼‰"},{path:"public/data/period/period_hover_phrases.json",target:"ç¶“æœŸæ—¥è¨˜",note:"æœˆæ›† hover èªå¥"},{path:"public/data/period/period_post_end_phrases.json",target:"ç¶“æœŸæ—¥è¨˜",note:"ç¶“æœŸçµæŸå¾Œèªå¥"},{path:"public/data/period/period_chibi_phrases.json",target:"ç¶“æœŸæ—¥è¨˜",note:"ç¶“æœŸå°äººå°è©"},{path:"public/data/fitness-weeks.json",target:"å¥èº«",note:"æ¯é€±å¥èº«/é£²é£Ÿè³‡æ–™"},{path:"public/data/albums.json",target:"ç›¸å†Š",note:"ç›¸å†Šæ¸…å–®èˆ‡è¨­å®š"}],Ws=[{path:"public/diary-covers/",target:"Mæ—¥è¨˜ / Anniæ—¥è¨˜",note:"æ—¥è¨˜å°é¢åœ–æ± "},{path:"public/photos/",target:"ç›¸å†Š",note:"ç›¸ç°¿åœ–ç‰‡"},{path:"public/tarot/",target:"å¡”ç¾…",note:"å¡”ç¾…ç‰Œåœ–æª”"},{path:"public/icons/",target:"ç¶²ç«™ / PWA",note:"ç¶²ç«™åœ–ç¤ºèˆ‡é€šçŸ¥ icon"},{path:"public/chibi*/",target:"æ‰€æœ‰å«å°äººé é¢",note:"å°äººç´ æï¼ˆå«å„å°ˆå±¬æ± ï¼‰"}],Ls=["GitHub ç¶²é ä¸Šå‚³æª”æ¡ˆåˆ° main åˆ†æ”¯ä¹Ÿå¯ä»¥æ›´æ–°ï¼Œä¸ä¸€å®šè¦æœ¬æ©Ÿ git pushã€‚","ä¸Šå‚³å¾Œéœ€ç­‰å¾… Actions build/deployï¼ˆé€šå¸¸ç´„ 1-5 åˆ†é˜ï¼‰ï¼Œæ‰‹æ©Ÿç«¯é‡æ•´æ‰æœƒçœ‹åˆ°ã€‚","å°äººæ–°å¢åˆ° public/chibi/ å¾Œï¼Œè‹¥æš«æ™‚æŠ½ä¸åˆ°æ–°åœ–ï¼Œå¯åœ¨å¤–è§€è¨­å®šæŒ‰ã€Œé‡æŠ½å°äººæ± ã€ã€‚","å¹´åº¦ä¿¡ä»¶å»ºè­°ç¶­æŒ index.json + txt åˆ†æª”ï¼ˆä¸è¦å‰ç«¯ä¸€æ¬¡è§£æå¤§é‡ docxï¼‰ã€‚","å¿ƒæƒ…ä¿¡æ–°å¢å¾ŒåŸ·è¡Œ `npm run build:mood-letters`ï¼Œæœƒè‡ªå‹•æ›´æ–° index/content/reviewã€‚","å¿ƒæƒ…åˆ†é¡ä¸æº–æ™‚ï¼Œæ”¹ `public/data/mood-letters/overrides.json` å¾Œå†é‡è·‘è…³æœ¬ã€‚","å¿ƒæƒ…æ˜Ÿçƒå°è¨­å®š/æ”¶è— keyï¼š`memorial-mood-letters-prefs-v1`ã€`memorial-mood-letters-favorites-v1`ã€‚","é å…§ã€Œæ‰‹å‹•åŒ¯å…¥ã€çš„è³‡æ–™æ˜¯æœ¬æ©Ÿè³‡æ–™åº«ï¼Œä¸æœƒè¢« GitHub æª”æ¡ˆç›´æ¥è¦†è“‹ã€‚","æ–‡å­—æª”å»ºè­° UTF-8ï¼Œåœ–ç‰‡å»ºè­°å£“ç¸®å¾Œå†ä¸Šå‚³ï¼Œæ‰‹æ©Ÿè¼‰å…¥æœƒæ›´ç©©ã€‚"],zs=[{path:"public/data/bookshelf.json",required:"å¿…å¡«",note:"æ›¸æœ¬æ¸…å–®èˆ‡é¡¯ç¤ºé †åºï¼ˆç”±ä¸Šåˆ°ä¸‹ï¼‰"},{path:"public/books/<bookId>/cover.webp",required:"é¸å¡«",note:"å°é¢ï¼ˆä¸æ”¾ä¹Ÿå¯ï¼‰"},{path:"public/books/<bookId>/001.webp",required:"å¿…å¡«ï¼ˆè‡³å°‘ä¸€é ï¼‰",note:"é–±è®€é ç¬¬ 1 å¼µ"},{path:"public/books/<bookId>/002.webp, 003.webp ...",required:"é¸å¡«",note:"å¾ŒçºŒé é¢ï¼Œä¾æª”åæ•¸å­—æ’åº"}],_s=["åœ¨ `public/data/bookshelf.json` æ–°å¢ä¸€æœ¬æ›¸ï¼ˆå»ºè­°å…ˆè¤‡è£½æ—¢æœ‰ä¸€ç­†å†æ”¹ï¼‰ã€‚","æŠŠ `id` è¨­æˆå”¯ä¸€å€¼ï¼ˆä¾‹å¦‚ `book-006`ï¼‰ï¼Œé€™å€‹ id è¦å’Œè³‡æ–™å¤¾åç¨±ä¸€è‡´ã€‚","å»ºç«‹è³‡æ–™å¤¾ `public/books/<id>/`ï¼Œæ”¾é€²å°é¢èˆ‡é–±è®€é åœ–ç‰‡ã€‚","åœ–ç‰‡æª”åå»ºè­°ç”¨ `001.webp`ã€`002.webp`...ï¼ˆå¯æ·· jpg/png/webpï¼Œç³»çµ±æœƒæŒ‰æª”åæ’åºï¼‰ã€‚","å­˜æª”å¾Œä¸Šå‚³ GitHub mainï¼Œç­‰å¾…éƒ¨ç½²å®Œæˆï¼Œæ‰‹æ©Ÿé‡æ•´å°±æœƒçœ‹åˆ°ã€‚"],$s=`[
  {
    "id": "book-006",
    "title": "æ–°æ›¸åç¨±",
    "subtitle": "",
    "icon": "ğŸ“–",
    "coverImage": ""
  }
]`,Gs=[{path:"åƒè€ƒè³‡æ–™/codex/å¿ƒæƒ…ä¿¡/*.docx|*.txt",required:"å¿…å¡«ä¾†æº",note:"ä½ æ–°å¢çš„ Word/TXT ä¿¡ä»¶éƒ½æ”¾é€™è£¡"},{path:"scripts/build-mood-letters-index.mjs",required:"å·¥å…·è…³æœ¬",note:"è‡ªå‹•è½‰æª”èˆ‡åˆ†é¡ï¼ˆä¸ç”¨æ‰‹å‹•æ”¹ indexï¼‰"},{path:"public/data/mood-letters/content/*.txt",required:"è‡ªå‹•ç”¢ç”Ÿ",note:"æ¯å°ä¿¡è½‰æˆ txt å¾Œæœƒåœ¨é€™è£¡"},{path:"public/data/mood-letters/index.json",required:"è‡ªå‹•ç”¢ç”Ÿ",note:"å¿ƒæƒ…æ˜Ÿçƒè®€å–çš„ä¸»ç´¢å¼•"},{path:"public/data/mood-letters/review.json",required:"è‡ªå‹•ç”¢ç”Ÿ",note:"å¾…äººå·¥ç¢ºèªåˆ†é¡æ¸…å–®"},{path:"public/data/mood-letters/overrides.json",required:"äººå·¥ä¿®æ­£",note:"åˆ†é¡ä¸æº–æ™‚ï¼Œåœ¨é€™è£¡è¦†è“‹ moodIds"}],Rs=["æŠŠæ–°ä¿¡ä»¶ï¼ˆ.docx / .txtï¼‰ä¸Ÿåˆ° `åƒè€ƒè³‡æ–™/codex/å¿ƒæƒ…ä¿¡/`ã€‚æª”åä¿ç•™åŸæª”åå³å¯ã€‚","åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œï¼š`npm run build:mood-letters`ã€‚","è…³æœ¬æœƒè‡ªå‹•è§£æ Word/TXTï¼Œä¸¦é‡å»º `public/data/mood-letters/index.json` èˆ‡ `content/*.txt`ã€‚","æ‰“é–‹ `public/data/mood-letters/review.json`ï¼Œçœ‹ `unresolved` æ˜¯å¦æœ‰å¾…åˆ†é¡é …ç›®ã€‚","å¦‚æœæœ‰å¾…åˆ†é¡ï¼šåˆ° `public/data/mood-letters/overrides.json` æ–°å¢è©²æª”åå°æ‡‰çš„ moodIdsã€‚","ä¿®æ­£å¾Œå†è·‘ä¸€æ¬¡ `npm run build:mood-letters`ï¼Œç›´åˆ° `review.json` çš„ unresolvedCount é™åˆ°ä½ å¯æ¥å—ã€‚","æœ€å¾ŒæŠŠé€™äº›æª”æ¡ˆä¸€èµ·ä¸Šå‚³ GitHub mainï¼šä¾†æºä¿¡ä»¶ + `public/data/mood-letters/*`ï¼ˆè‡³å°‘ index/content/overrides/reviewï¼‰ã€‚"],Hs=`{
  "version": 1,
  "updatedAt": "2026-02-23T00:00:00.000Z",
  "note": "key è¦å¡« displayNameï¼ˆå«å‰¯æª”åï¼‰",
  "overrides": {
    "ä»Šå¤©æœ‰é»ä½æ½®.docx": ["low", "support"],
    "æƒ³å¦³æŠ±æŠ±æ™šå®‰.txt": ["longing", "night"]
  }
}`;function m({icon:s,title:f,subtitle:F,isOpen:w,onToggle:y,children:P}){return e.jsxs("section",{className:"overflow-hidden rounded-2xl border border-stone-700/80 bg-[#161b26] shadow-sm",children:[e.jsxs("button",{type:"button",onClick:y,className:"flex w-full items-center gap-3 px-4 py-3 text-left text-white transition hover:bg-white/5",children:[e.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-white/12 text-lg",children:s}),e.jsxs("span",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:"block text-sm",children:f}),e.jsx("span",{className:"block truncate text-xs text-stone-300",children:F})]}),e.jsx("span",{className:`text-xl leading-none text-stone-300 transition-transform ${w?"rotate-90":""}`,"aria-hidden":"true",children:"â€º"})]}),w&&e.jsx("div",{className:"border-t border-stone-700/70 bg-white/95 p-4 text-sm text-stone-700",children:P})]})}function N({title:s,subtitle:f,isOpen:F,onToggle:w,children:y}){return e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2.5",children:[e.jsxs("button",{type:"button",onClick:w,className:"flex w-full items-center justify-between gap-3 text-left",children:[e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:s}),f?e.jsx("span",{className:"mt-0.5 block text-xs text-stone-500",children:f}):null]}),e.jsx("span",{className:`text-lg leading-none text-stone-500 transition-transform ${F?"rotate-180":""}`,"aria-hidden":"true",children:"âŒ„"})]}),F&&e.jsx("div",{className:"mt-3 space-y-3 border-t border-stone-200 pt-3",children:y})]})}function qs({settings:s,visibleEmailCount:f,totalEmailCount:F,monthCount:w,notificationPermission:y,importStatus:P,letterCount:Te,diaryCount:Ie,chatLogCount:De,chatProfiles:Be,chibiPoolInfo:Me,onSettingChange:n,onRequestNotificationPermission:yt,onImportEmlFiles:ft,onImportCalendarFiles:gt,onImportLetterFiles:jt,onImportLetterFolderFiles:Nt,onImportDiaryFiles:vt,onImportDiaryFolderFiles:kt,onImportChatLogFiles:wt,onImportChatLogFolderFiles:St,onClearAllLetters:Ct,onClearAllDiaries:Ft,onClearAllChatLogs:Ut,onExportAboutMeBackup:Tt,onExportAboutMBackup:It,onExportAboutMBackupPart:Dt,onImportAboutMeBackup:Pe,onImportAboutMBackup:Ae,onImportAboutMBackupPart:Ee,onSaveChatProfile:Bt,onDeleteChatProfile:Mt,onHoverToneWeightChange:Pt,onReshuffleHoverPhrases:At,onReshuffleChibiPool:ne,onRefresh:Et}){const[x,Ot]=c.useState("appearance"),[Oe,X]=c.useState(s.diaryCoverImageUrl),[Q,We]=c.useState(s.tarotGalleryImageUrl),[Le,ze]=c.useState(s.homeWidgetTitle),[_e,$e]=c.useState(s.homeWidgetBadgeText),[Ge,Re]=c.useState(s.homeWidgetSubtitle),[He,Je]=c.useState(s.inboxTitle),[qe,Ve]=c.useState(s.memorialStartDate),[z,A]=c.useState({name:"",leftNick:"M",rightNick:"ä½ ",leftAvatarDataUrl:"",rightAvatarDataUrl:""}),[Wt,ie]=c.useState(!1),[_,ce]=c.useState(s.customFontUrlSlots[0]??s.customFontFileUrl),[Ke,de]=c.useState(s.backgroundImageUrl),[$,Xe]=c.useState(s.homeDynamicWallpaperPreset),[G,Qe]=c.useState(s.homeWallpaperEffectPreset),[Ye,Y]=c.useState(s.chatBackgroundImageUrl),[h,xe]=c.useState(s.tabIconUrls),[u,pe]=c.useState(s.appLabels),[Ze,E]=c.useState(""),[et,me]=c.useState(""),[tt,U]=c.useState(""),[st,T]=c.useState(""),[lt,ue]=c.useState(""),[at,be]=c.useState(""),[rt,he]=c.useState(""),[v,ot]=c.useState(null),[Z,Lt]=c.useState("aboutMe"),[ee,zt]=c.useState("colorScale"),[te,_t]=c.useState("preset"),[$t,Gt]=c.useState(!1),[Rt,Ht]=c.useState(!1),[Jt,se]=c.useState(!1),[I,O]=c.useState("general"),[S,qt]=c.useState({customFontUrlSlots:0,letterFontUrlSlots:0,diaryFontUrlSlots:0,soulmateFontUrlSlots:0}),[b,Vt]=c.useState(0),[D,ye]=c.useState(()=>{const t=s.customFontFileUrl.trim();if(!t)return null;const o=q.map(l=>s.customFontUrlSlots[l]??"").map(l=>l.trim()).findIndex(l=>l===t);return o>=0?o:null}),[fe,Kt]=c.useState("app"),[ge,je]=c.useState({app:!0,letter:!0,diary:!0,soulmate:!1}),[Xt,nt]=c.useState({customFontUrlSlots:s.customFontUrlSlotNames[0]??"",letterFontUrlSlots:s.letterFontUrlSlotNames[0]??"",diaryFontUrlSlots:s.diaryFontUrlSlotNames[0]??"",soulmateFontUrlSlots:s.soulmateFontUrlSlotNames[0]??""}),Qt=c.useMemo(()=>V.find(t=>t.value===s.homeDynamicWallpaperPreset)??V[0],[s.homeDynamicWallpaperPreset]),Ne=c.useMemo(()=>V.find(t=>t.value===$)??V[0],[$]),Yt=c.useMemo(()=>K.find(t=>t.value===s.homeWallpaperEffectPreset)??K[0],[s.homeWallpaperEffectPreset]),ve=c.useMemo(()=>K.find(t=>t.value===G)??K[0],[G]),ke=$!==s.homeDynamicWallpaperPreset,we=G!==s.homeWallpaperEffectPreset;c.useEffect(()=>{de(s.backgroundImageUrl),Xe(s.homeDynamicWallpaperPreset),Qe(s.homeWallpaperEffectPreset),Y(s.chatBackgroundImageUrl),xe(s.tabIconUrls),pe(s.appLabels),X(s.diaryCoverImageUrl),We(s.tarotGalleryImageUrl),ze(s.homeWidgetTitle),$e(s.homeWidgetBadgeText),Re(s.homeWidgetSubtitle),Je(s.inboxTitle),Ve(s.memorialStartDate)},[s.backgroundImageUrl,s.homeDynamicWallpaperPreset,s.homeWallpaperEffectPreset,s.chatBackgroundImageUrl,s.tabIconUrls,s.appLabels,s.diaryCoverImageUrl,s.tarotGalleryImageUrl,s.homeWidgetTitle,s.homeWidgetBadgeText,s.homeWidgetSubtitle,s.inboxTitle,s.memorialStartDate]),c.useEffect(()=>{nt({customFontUrlSlots:s.customFontUrlSlotNames[S.customFontUrlSlots]??"",letterFontUrlSlots:s.letterFontUrlSlotNames[S.letterFontUrlSlots]??"",diaryFontUrlSlots:s.diaryFontUrlSlotNames[S.diaryFontUrlSlots]??"",soulmateFontUrlSlots:s.soulmateFontUrlSlotNames[S.soulmateFontUrlSlots]??""})},[S.customFontUrlSlots,S.letterFontUrlSlots,S.diaryFontUrlSlots,S.soulmateFontUrlSlots,s.customFontUrlSlotNames,s.letterFontUrlSlotNames,s.diaryFontUrlSlotNames,s.soulmateFontUrlSlotNames]),c.useEffect(()=>{if(b===null)return;const t=B(),a=R();ce(t[b]??""),H(j,a[b]??"")},[b,s.customFontUrlSlots,s.customFontUrlSlotNames]),c.useEffect(()=>{const t="settings-preview-font-file-style",a=_.trim();let o=document.getElementById(t);if(!a){o&&o.remove();return}o||(o=document.createElement("style"),o.id=t,document.head.appendChild(o)),o.textContent=Ts(bt,a)},[_]),c.useEffect(()=>()=>{document.getElementById("settings-preview-font-file-style")?.remove()},[]);function p(t){Ot(a=>a===t?null:t)}function it(t){Lt(a=>a===t?null:t)}function le(t){zt(a=>a===t?null:t)}function ae(t){_t(a=>a===t?null:t)}function Zt(t){je(a=>({...a,[t]:!a[t]}))}function es(t){je({app:t,letter:t,diary:t,soulmate:t})}function ts(t){return t==="app"?s.customFontFileUrl.trim():t==="letter"?s.letterFontUrl.trim():t==="diary"?s.diaryFontUrl.trim():s.soulmateFontUrl.trim()}function ct(t){if(t==="blank")return null;const a=Number(t);return Number.isNaN(a)||a<0||a>=Ue?null:a}function ss(t){if(Vt(t),t===null){ce(""),H(j,"");return}qt(a=>({...a,[j]:t})),ds(j,t)}function ls(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&re(j,a.result)},a.readAsDataURL(t)}function as(){if(b===null){d({kind:"error",message:"è«‹å…ˆé¸æ“‡è¨˜æ†¶ 1~10 å†ä¿å­˜"});return}is(j,b)}function rs(){if(b===null){d({kind:"error",message:"è«‹å…ˆé¸æ“‡è¦åˆªé™¤çš„è¨˜æ†¶ 1~10"});return}cs(j,b)}function os(){const t=L.filter(r=>ge[r.key]);if(!t.length){d({kind:"error",message:"è«‹å…ˆå‹¾é¸è‡³å°‘ä¸€å€‹å¥—ç”¨ç¯„åœ"});return}const a=B(),o=D===null?"":(a[D]??"").trim();if(D!==null&&!o){d({kind:"error",message:"æ­¤å­—é«”é è¨­æ˜¯ç©ºç™½ï¼Œè«‹å…ˆå›ä¸Šæ–¹ä¿å­˜å­—é«”ä¾†æº"});return}const l={};for(const r of t)r.key==="app"?(l.customFontCssUrl="",l.customFontFileUrl=o,l.customFontFamily=""):r.key==="letter"?l.letterFontUrl=o:r.key==="diary"?l.diaryFontUrl=o:r.key==="soulmate"&&(l.soulmateFontUrl=o);n(l),d({kind:"success",message:D===null?`å·²é‚„åŸé è¨­å­—é«”ï¼š${t.map(r=>r.label).join("ã€")}`:`å·²å¥—ç”¨å­—é«”é è¨­ ${D+1}ï¼š${t.map(r=>r.label).join("ã€")}`})}function ns(){je({app:!0,letter:!0,diary:!0,soulmate:!1});const t=B().map(l=>l.trim()),a=s.customFontFileUrl.trim();if(!a){ye(null),d({kind:"success",message:"å­—é«”å¥—ç”¨ç¯„åœè‰ç¨¿å·²é‚„åŸ"});return}const o=t.findIndex(l=>l===a);ye(o>=0?o:null),d({kind:"success",message:"å­—é«”å¥—ç”¨ç¯„åœè‰ç¨¿å·²é‚„åŸ"})}function B(t){const a=s.customFontUrlSlots;return q.map(o=>a[o]??"")}function dt(t){return"customFontUrlSlotNames"}function R(t){const a=s.customFontUrlSlotNames;return q.map(o=>a[o]??"")}function xt(t){return _.trim()}function re(t,a){ce(a)}function pt(t){return Xt[t]??""}function H(t,a){nt(o=>({...o,[t]:a}))}function is(t,a){const o=B(),l=R(),r=dt();o[a]=xt(),l[a]=pt(t).trim(),n({[t]:o,[r]:l}),d({kind:"success",message:`å­—é«”è¨˜æ†¶ ${a+1} å·²ä¿å­˜`})}function cs(t,a){const o=B(),l=R(),r=dt();o[a]="",l[a]="",n({[t]:o,[r]:l}),re(t,""),H(t,""),d({kind:"success",message:`å­—é«”è¨˜æ†¶ ${a+1} å·²æ¸…é™¤`})}function ds(t,a){const o=B(),l=R();re(t,o[a]??""),H(t,l[a]??"")}function Se(t,a,o=""){const l=o.trim();if(l)return l;const r=t.trim();if(!r)return`è¨˜æ†¶ ${a+1}`;if(r.startsWith("data:"))return`æœ¬æ©Ÿå­—é«” ${a+1}`;try{const g=new URL(r),i=decodeURIComponent(g.pathname.split("/").pop()??"").replace(/\.[a-z0-9]+$/i,"");if(i)return i}catch{}return r.length>26?`${r.slice(0,26)}...`:r}function Ce(t,a){xe(o=>({...o,[t]:a})),E("")}function xs(t,a){if(!a)return;const o=new FileReader;o.onload=()=>{typeof o.result=="string"&&(Ce(t,o.result),E(`${ht.find(l=>l.key===t)?.label??t} åœ–ç¤ºå·²æ”¾å…¥è‰ç¨¿`))},o.readAsDataURL(a)}function ps(t,a){pe(o=>({...o,[t]:a})),ue("")}function ms(){const t={home:h.home.trim(),inbox:h.inbox.trim(),calendar:h.calendar.trim(),tarot:h.tarot.trim(),letters:h.letters.trim(),heart:h.heart.trim(),list:h.list.trim(),fitness:h.fitness.trim(),pomodoro:h.pomodoro.trim(),period:h.period.trim(),diary:h.diary.trim(),album:h.album.trim(),notes:h.notes.trim(),settings:h.settings.trim()};n({tabIconUrls:t}),E("åœ–æ¨™è¨­å®šå·²å„²å­˜"),d({kind:"success",message:"åœ–æ¨™è¨­å®šå·²å„²å­˜"})}function us(){xe(s.tabIconUrls),E("å·²é‚„åŸæˆç›®å‰å„²å­˜å€¼")}function bs(){const t={home:u.home.trim(),inbox:u.inbox.trim(),calendar:u.calendar.trim(),settings:u.settings.trim(),tarot:u.tarot.trim(),letters:u.letters.trim(),heart:u.heart.trim(),chat:u.chat.trim(),list:u.list.trim(),fitness:u.fitness.trim(),pomodoro:u.pomodoro.trim(),period:u.period.trim(),diary:u.diary.trim(),album:u.album.trim(),notes:u.notes.trim()};n({appLabels:t}),ue("å…¥å£åç¨±å·²å„²å­˜"),d({kind:"success",message:"å…¥å£åç¨±å·²å„²å­˜"})}function hs(){pe(s.appLabels),ue("å·²é‚„åŸæˆç›®å‰å„²å­˜å€¼")}function ys(){const t={version:1,savedAt:new Date().toISOString(),appearance:{themeMonthColor:s.themeMonthColor,globalTextColor:s.globalTextColor,calendarColorMode:s.calendarColorMode,lockedBubbleColor:s.lockedBubbleColor,calendarHoverBubbleTextColor:s.calendarHoverBubbleTextColor,chatBubbleStyle:s.chatBubbleStyle,chatUserBubbleColor:s.chatUserBubbleColor,chatUserBubbleBorderColor:s.chatUserBubbleBorderColor,chatUserBubbleTextColor:s.chatUserBubbleTextColor,chatAiBubbleColor:s.chatAiBubbleColor,chatAiBubbleBorderColor:s.chatAiBubbleBorderColor,chatAiBubbleTextColor:s.chatAiBubbleTextColor,chatBubbleRadius:s.chatBubbleRadius,chatBackgroundColor:s.chatBackgroundColor,chatBackgroundImageUrl:s.chatBackgroundImageUrl,chatBackgroundOverlay:s.chatBackgroundOverlay,customFontCssUrl:s.customFontCssUrl,customFontFileUrl:s.customFontFileUrl,customFontFamily:s.customFontFamily,customFontUrlSlots:[...s.customFontUrlSlots],customFontUrlSlotNames:[...s.customFontUrlSlotNames],letterFontUrl:s.letterFontUrl,letterFontUrlSlots:[...s.letterFontUrlSlots],letterFontUrlSlotNames:[...s.letterFontUrlSlotNames],diaryFontUrl:s.diaryFontUrl,diaryFontUrlSlots:[...s.diaryFontUrlSlots],diaryFontUrlSlotNames:[...s.diaryFontUrlSlotNames],soulmateFontUrl:s.soulmateFontUrl,soulmateFontUrlSlots:[...s.soulmateFontUrlSlots],soulmateFontUrlSlotNames:[...s.soulmateFontUrlSlotNames],fontScale:s.fontScale,uiHeaderTitleSize:s.uiHeaderTitleSize,uiTabLabelSize:s.uiTabLabelSize,uiFilterPillSize:s.uiFilterPillSize,uiHintTextSize:s.uiHintTextSize,chatContactNameSize:s.chatContactNameSize,chatContactSubtitleSize:s.chatContactSubtitleSize,tabIconUrls:s.tabIconUrls,tabIconDisplayMode:s.tabIconDisplayMode,calendarCellRadius:s.calendarCellRadius,calendarCellShadow:s.calendarCellShadow,calendarCellDepth:s.calendarCellDepth,backgroundMode:s.backgroundMode,backgroundGradientStart:s.backgroundGradientStart,backgroundGradientEnd:s.backgroundGradientEnd,homeDynamicWallpaperPreset:s.homeDynamicWallpaperPreset,homeDynamicEffectsEnabled:s.homeDynamicEffectsEnabled,homeDynamicIntensity:s.homeDynamicIntensity,homeDynamicSpeed:s.homeDynamicSpeed,homeDynamicParticleAmount:s.homeDynamicParticleAmount,homeWallpaperGradientPreset:s.homeWallpaperGradientPreset,homeWallpaperEffectPreset:s.homeWallpaperEffectPreset,backgroundImageUrl:s.backgroundImageUrl,backgroundImageOverlay:s.backgroundImageOverlay,homeWidgetTitle:s.homeWidgetTitle,homeWidgetSubtitle:s.homeWidgetSubtitle,homeWidgetBadgeText:s.homeWidgetBadgeText,homeWidgetIconDataUrl:s.homeWidgetIconDataUrl,inboxTitle:s.inboxTitle,memorialStartDate:s.memorialStartDate,diaryCoverFitMode:s.diaryCoverFitMode,tarotNameColor:s.tarotNameColor,tarotNameScale:s.tarotNameScale,chibiPoolSize:s.chibiPoolSize,chibiPoolMode:s.chibiPoolMode,appLabels:s.appLabels}},a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=`memorial-style-${new Date().toISOString().slice(0,10)}.json`,l.click(),URL.revokeObjectURL(o),me("å·²åŒ¯å‡ºç¾åŒ–è¨­å®š JSON")}async function fs(t){try{const a=await t.text(),o=JSON.parse(a),l=o.appearance??o,r={};if(typeof l.themeMonthColor=="string"&&(r.themeMonthColor=l.themeMonthColor),typeof l.globalTextColor=="string"&&(r.globalTextColor=l.globalTextColor),(l.calendarColorMode==="month"||l.calendarColorMode==="custom")&&(r.calendarColorMode=l.calendarColorMode),typeof l.lockedBubbleColor=="string"&&(r.lockedBubbleColor=l.lockedBubbleColor),typeof l.calendarHoverBubbleTextColor=="string"&&(r.calendarHoverBubbleTextColor=l.calendarHoverBubbleTextColor),(l.chatBubbleStyle==="jelly"||l.chatBubbleStyle==="imessage"||l.chatBubbleStyle==="imessageClassic")&&(r.chatBubbleStyle=l.chatBubbleStyle),typeof l.chatUserBubbleColor=="string"&&(r.chatUserBubbleColor=l.chatUserBubbleColor),typeof l.chatUserBubbleBorderColor=="string"&&(r.chatUserBubbleBorderColor=l.chatUserBubbleBorderColor),typeof l.chatUserBubbleTextColor=="string"&&(r.chatUserBubbleTextColor=l.chatUserBubbleTextColor),typeof l.chatAiBubbleColor=="string"&&(r.chatAiBubbleColor=l.chatAiBubbleColor),typeof l.chatAiBubbleBorderColor=="string"&&(r.chatAiBubbleBorderColor=l.chatAiBubbleBorderColor),typeof l.chatAiBubbleTextColor=="string"&&(r.chatAiBubbleTextColor=l.chatAiBubbleTextColor),typeof l.chatBubbleRadius=="number"&&Number.isFinite(l.chatBubbleRadius)&&(r.chatBubbleRadius=l.chatBubbleRadius),typeof l.chatBackgroundColor=="string"&&(r.chatBackgroundColor=l.chatBackgroundColor),typeof l.chatBackgroundImageUrl=="string"&&(r.chatBackgroundImageUrl=l.chatBackgroundImageUrl),typeof l.chatBackgroundOverlay=="number"&&Number.isFinite(l.chatBackgroundOverlay)&&(r.chatBackgroundOverlay=Math.max(0,Math.min(90,Math.round(l.chatBackgroundOverlay)))),typeof l.customFontCssUrl=="string"&&(r.customFontCssUrl=l.customFontCssUrl),typeof l.customFontFileUrl=="string"&&(r.customFontFileUrl=l.customFontFileUrl),typeof l.customFontFamily=="string"&&(r.customFontFamily=l.customFontFamily),typeof l.letterFontUrl=="string"&&(r.letterFontUrl=l.letterFontUrl),typeof l.diaryFontUrl=="string"&&(r.diaryFontUrl=l.diaryFontUrl),typeof l.soulmateFontUrl=="string"&&(r.soulmateFontUrl=l.soulmateFontUrl),Array.isArray(l.customFontUrlSlots)&&(r.customFontUrlSlots=C(l.customFontUrlSlots,s.customFontUrlSlots)),Array.isArray(l.customFontUrlSlotNames)&&(r.customFontUrlSlotNames=C(l.customFontUrlSlotNames,s.customFontUrlSlotNames)),Array.isArray(l.letterFontUrlSlots)&&(r.letterFontUrlSlots=C(l.letterFontUrlSlots,s.letterFontUrlSlots)),Array.isArray(l.letterFontUrlSlotNames)&&(r.letterFontUrlSlotNames=C(l.letterFontUrlSlotNames,s.letterFontUrlSlotNames)),Array.isArray(l.diaryFontUrlSlots)&&(r.diaryFontUrlSlots=C(l.diaryFontUrlSlots,s.diaryFontUrlSlots)),Array.isArray(l.diaryFontUrlSlotNames)&&(r.diaryFontUrlSlotNames=C(l.diaryFontUrlSlotNames,s.diaryFontUrlSlotNames)),Array.isArray(l.soulmateFontUrlSlots)&&(r.soulmateFontUrlSlots=C(l.soulmateFontUrlSlots,s.soulmateFontUrlSlots)),Array.isArray(l.soulmateFontUrlSlotNames)&&(r.soulmateFontUrlSlotNames=C(l.soulmateFontUrlSlotNames,s.soulmateFontUrlSlotNames)),typeof l.fontScale=="number"&&Number.isFinite(l.fontScale)&&(r.fontScale=l.fontScale),typeof l.uiHeaderTitleSize=="number"&&Number.isFinite(l.uiHeaderTitleSize)&&(r.uiHeaderTitleSize=l.uiHeaderTitleSize),typeof l.uiTabLabelSize=="number"&&Number.isFinite(l.uiTabLabelSize)&&(r.uiTabLabelSize=l.uiTabLabelSize),typeof l.uiFilterPillSize=="number"&&Number.isFinite(l.uiFilterPillSize)&&(r.uiFilterPillSize=l.uiFilterPillSize),typeof l.uiHintTextSize=="number"&&Number.isFinite(l.uiHintTextSize)&&(r.uiHintTextSize=l.uiHintTextSize),typeof l.chatContactNameSize=="number"&&Number.isFinite(l.chatContactNameSize)&&(r.chatContactNameSize=l.chatContactNameSize),typeof l.chatContactSubtitleSize=="number"&&Number.isFinite(l.chatContactSubtitleSize)&&(r.chatContactSubtitleSize=l.chatContactSubtitleSize),l.tabIconUrls&&typeof l.tabIconUrls=="object"){const i=l.tabIconUrls;r.tabIconUrls={home:typeof i.home=="string"?i.home.trim():"",inbox:typeof i.inbox=="string"?i.inbox.trim():"",calendar:typeof i.calendar=="string"?i.calendar.trim():"",tarot:typeof i.tarot=="string"?i.tarot.trim():"",letters:typeof i.letters=="string"?i.letters.trim():"",heart:typeof i.heart=="string"?i.heart.trim():"",list:typeof i.list=="string"?i.list.trim():"",fitness:typeof i.fitness=="string"?i.fitness.trim():"",pomodoro:typeof i.pomodoro=="string"?i.pomodoro.trim():"",period:typeof i.period=="string"?i.period.trim():"",diary:typeof i.diary=="string"?i.diary.trim():"",album:typeof i.album=="string"?i.album.trim():"",notes:typeof i.notes=="string"?i.notes.trim():"",settings:typeof i.settings=="string"?i.settings.trim():""}}(l.tabIconDisplayMode==="framed"||l.tabIconDisplayMode==="full")&&(r.tabIconDisplayMode=l.tabIconDisplayMode),typeof l.calendarCellRadius=="number"&&Number.isFinite(l.calendarCellRadius)&&(r.calendarCellRadius=l.calendarCellRadius),typeof l.calendarCellShadow=="number"&&Number.isFinite(l.calendarCellShadow)&&(r.calendarCellShadow=l.calendarCellShadow),typeof l.calendarCellDepth=="number"&&Number.isFinite(l.calendarCellDepth)&&(r.calendarCellDepth=l.calendarCellDepth),(l.backgroundMode==="gradient"||l.backgroundMode==="image"||l.backgroundMode==="dynamic")&&(r.backgroundMode=l.backgroundMode),typeof l.backgroundGradientStart=="string"&&(r.backgroundGradientStart=l.backgroundGradientStart),typeof l.backgroundGradientEnd=="string"&&(r.backgroundGradientEnd=l.backgroundGradientEnd),(l.homeDynamicWallpaperPreset==="gradientFlow"||l.homeDynamicWallpaperPreset==="snowNight"||l.homeDynamicWallpaperPreset==="bokehDream"||l.homeDynamicWallpaperPreset==="firefly"||l.homeDynamicWallpaperPreset==="meteorShower"||l.homeDynamicWallpaperPreset==="skyLantern"||l.homeDynamicWallpaperPreset==="coolTwilight"||l.homeDynamicWallpaperPreset==="auroraDance"||l.homeDynamicWallpaperPreset==="prismDepth")&&(r.homeDynamicWallpaperPreset=l.homeDynamicWallpaperPreset),typeof l.homeDynamicEffectsEnabled=="boolean"&&(r.homeDynamicEffectsEnabled=l.homeDynamicEffectsEnabled),typeof l.homeDynamicIntensity=="number"&&Number.isFinite(l.homeDynamicIntensity)&&(r.homeDynamicIntensity=l.homeDynamicIntensity),typeof l.homeDynamicSpeed=="number"&&Number.isFinite(l.homeDynamicSpeed)&&(r.homeDynamicSpeed=l.homeDynamicSpeed),typeof l.homeDynamicParticleAmount=="number"&&Number.isFinite(l.homeDynamicParticleAmount)&&(r.homeDynamicParticleAmount=l.homeDynamicParticleAmount),(l.homeWallpaperGradientPreset==="auroraCandy"||l.homeWallpaperGradientPreset==="bokehDream"||l.homeWallpaperGradientPreset==="neonTwilight"||l.homeWallpaperGradientPreset==="peachSky"||l.homeWallpaperGradientPreset==="mintLilac"||l.homeWallpaperGradientPreset==="nightBlue")&&(r.homeWallpaperGradientPreset=l.homeWallpaperGradientPreset),l.homeWallpaperEffectPreset==="orbs"||l.homeWallpaperEffectPreset==="snow"||l.homeWallpaperEffectPreset==="heart"||l.homeWallpaperEffectPreset==="lantern"||l.homeWallpaperEffectPreset==="ribbon"||l.homeWallpaperEffectPreset==="stardust"||l.homeWallpaperEffectPreset==="bubbles"||l.homeWallpaperEffectPreset==="none"?r.homeWallpaperEffectPreset=l.homeWallpaperEffectPreset:l.homeWallpaperEffectPreset==="firefly"&&(r.homeWallpaperEffectPreset="heart"),typeof l.backgroundImageUrl=="string"&&(r.backgroundImageUrl=l.backgroundImageUrl),typeof l.backgroundImageOverlay=="number"&&Number.isFinite(l.backgroundImageOverlay)&&(r.backgroundImageOverlay=l.backgroundImageOverlay),typeof l.homeWidgetTitle=="string"&&(r.homeWidgetTitle=l.homeWidgetTitle),typeof l.homeWidgetSubtitle=="string"&&(r.homeWidgetSubtitle=l.homeWidgetSubtitle),typeof l.homeWidgetBadgeText=="string"&&(r.homeWidgetBadgeText=l.homeWidgetBadgeText),typeof l.homeWidgetIconDataUrl=="string"&&(r.homeWidgetIconDataUrl=l.homeWidgetIconDataUrl),typeof l.inboxTitle=="string"&&(r.inboxTitle=l.inboxTitle),typeof l.memorialStartDate=="string"&&(r.memorialStartDate=l.memorialStartDate),(l.diaryCoverFitMode==="cover"||l.diaryCoverFitMode==="contain")&&(r.diaryCoverFitMode=l.diaryCoverFitMode),typeof l.tarotNameColor=="string"&&(r.tarotNameColor=l.tarotNameColor),typeof l.tarotNameScale=="number"&&Number.isFinite(l.tarotNameScale)&&(r.tarotNameScale=l.tarotNameScale),typeof l.chibiPoolSize=="number"&&Number.isFinite(l.chibiPoolSize)&&(r.chibiPoolSize=Math.max(20,Math.min(200,Math.round(l.chibiPoolSize))));const g=l.chibiPoolMode;if((g==="i"||g==="ii"||g==="all"||g==="a"||g==="b")&&(r.chibiPoolMode=g==="a"?"i":g==="b"?"ii":g),l.appLabels&&typeof l.appLabels=="object"){const i=l.appLabels;r.appLabels={home:typeof i.home=="string"?i.home.trim():"",inbox:typeof i.inbox=="string"?i.inbox.trim():"",calendar:typeof i.calendar=="string"?i.calendar.trim():"",settings:typeof i.settings=="string"?i.settings.trim():"",tarot:typeof i.tarot=="string"?i.tarot.trim():"",letters:typeof i.letters=="string"?i.letters.trim():"",heart:typeof i.heart=="string"?i.heart.trim():"",chat:typeof i.chat=="string"?i.chat.trim():"",list:typeof i.list=="string"?i.list.trim():"",fitness:typeof i.fitness=="string"?i.fitness.trim():"",pomodoro:typeof i.pomodoro=="string"?i.pomodoro.trim():"",period:typeof i.period=="string"?i.period.trim():"",diary:typeof i.diary=="string"?i.diary.trim():"",album:typeof i.album=="string"?i.album.trim():"",notes:typeof i.notes=="string"?i.notes.trim():""}}n(r),me("å·²åŒ¯å…¥ç¾åŒ–è¨­å®š")}catch{me("åŒ¯å…¥å¤±æ•—ï¼šæª”æ¡ˆä¸æ˜¯æœ‰æ•ˆçš„ JSON")}}function gs(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&(de(a.result),n({backgroundMode:"image",backgroundImageUrl:a.result}))},a.readAsDataURL(t)}function js(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&(Y(a.result),n({chatBackgroundImageUrl:a.result}))},a.readAsDataURL(t)}function Ns(){n({homeWidgetTitle:Le.trim(),homeWidgetBadgeText:_e.trim(),homeWidgetSubtitle:Ge.trim(),inboxTitle:He.trim(),memorialStartDate:qe.trim()}),T("å·²å„²å­˜"),d({kind:"success",message:"é¦–é èˆ‡ä¿¡ç®±è¨­å®šå·²å„²å­˜"}),window.setTimeout(()=>T(""),1200)}function vs(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&n({homeWidgetIconDataUrl:a.result})},a.readAsDataURL(t)}function ks(t){if(!t)return;const a=new FileReader;a.onload=()=>{typeof a.result=="string"&&(X(a.result),n({diaryCoverImageUrl:a.result}))},a.readAsDataURL(t)}async function k(t,a,o){ot(t),t==="aboutMe"?be(a):he(a);try{const l=await o(),r=typeof l=="string"&&l.trim()?l:"æ“ä½œå®Œæˆ";t==="aboutMe"?be(r):he(r)}catch(l){const r=l instanceof Error?l.message:"æ“ä½œå¤±æ•—";t==="aboutMe"?be(`å¤±æ•—ï¼š${r}`):he(`å¤±æ•—ï¼š${r}`)}finally{ot(null)}}const mt=c.useMemo(()=>_.trim()?bt:s.customFontFileUrl.trim()?Is:"'Plus Jakarta Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",[s.customFontFileUrl,_]),ws=y==="unsupported"?"æ­¤ç€è¦½å™¨ä¸æ”¯æ´":y==="granted"?"å·²å…è¨±":y==="denied"?"å·²å°é–":"å°šæœªæ±ºå®š",J=B(),oe=R(),Ss=b!==null&&!!((J[b]??"").trim()||(oe[b]??"").trim()),Cs=L.every(t=>ge[t.key]),ut=L.find(t=>t.key===fe)??L[0],Fe=ts(fe),W=J.findIndex(t=>t.trim()===Fe),Fs=W>=0?Se(J[W]??"",W,oe[W]??""):"",Us=Fe?W>=0?`è¨˜æ†¶ ${W+1} Â· ${Fs}`:"å¤–éƒ¨å­—é«”ï¼ˆæœªå­˜å…¥å­—é«”é è¨­ï¼‰":"ç©ºç™½ï¼ˆä½¿ç”¨é è¨­å­—é«”ï¼‰";return e.jsxs("div",{className:"mx-auto w-full max-w-xl space-y-4 pb-24",children:[e.jsxs("header",{className:"themed-header-panel rounded-2xl border p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-stone-500",children:"è¨­å®š"}),e.jsx("h1",{className:"mt-1 text-2xl text-stone-900",children:"æ§åˆ¶ä¸­å¿ƒ"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{icon:"ğŸ“Š",title:"è³‡æ–™æ¦‚æ³",subtitle:"ç›®å‰ä¿¡ä»¶èˆ‡æœˆæ›†æ•¸é‡",isOpen:x==="overview",onToggle:()=>p("overview"),children:e.jsxs("dl",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("dt",{className:"text-xs text-stone-500",children:"å¯è¦‹ä¿¡ä»¶"}),e.jsx("dd",{className:"text-lg text-stone-900",children:f})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("dt",{className:"text-xs text-stone-500",children:"ä¿¡ä»¶ç¸½æ•¸"}),e.jsx("dd",{className:"text-lg text-stone-900",children:F})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("dt",{className:"text-xs text-stone-500",children:"æœˆæ›†æœˆä»½æ•¸"}),e.jsx("dd",{className:"text-lg text-stone-900",children:w})]})]})}),e.jsx(m,{icon:"ğŸ—ƒï¸",title:"å¤§å‚™ä»½",subtitle:"é—œæ–¼æˆ‘ / é—œæ–¼M åˆ†åŒ…åŒ¯å…¥åŒ¯å‡º",isOpen:x==="bigBackup",onToggle:()=>p("bigBackup"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2.5",children:[e.jsxs("button",{type:"button",onClick:()=>it("aboutMe"),className:"flex w-full items-center justify-between gap-3 text-left",children:[e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:"é—œæ–¼æˆ‘"}),e.jsx("span",{className:"mt-0.5 block text-xs text-stone-500",children:"åŒ…å«ï¼šç¶“æœŸæ—¥è¨˜ã€æ‰“å¡ã€Anni æ—¥è¨˜ã€ä¾¿åˆ©è²¼"})]}),e.jsx("span",{className:`text-lg leading-none text-stone-500 transition-transform ${Z==="aboutMe"?"rotate-180":""}`,"aria-hidden":"true",children:"âŒ„"})]}),Z==="aboutMe"&&e.jsxs("div",{className:"mt-3 space-y-2.5 border-t border-stone-200 pt-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[e.jsx("button",{type:"button",onClick:()=>{k("aboutMe","é—œæ–¼æˆ‘åŒ¯å‡ºä¸­â€¦",()=>Tt())},disabled:v!==null,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:opacity-50",children:"å®Œæ•´åŒ¯å‡º"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-center text-xs text-stone-700",children:["åŒ¯å…¥ï¼ˆåˆä½µï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:v!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&k("aboutMe","é—œæ–¼æˆ‘åŒ¯å…¥ä¸­ï¼ˆåˆä½µï¼‰â€¦",()=>Pe(a,"merge")),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-rose-300 bg-rose-50 px-3 py-2 text-center text-xs text-rose-700",children:["åŒ¯å…¥ï¼ˆè¦†è“‹ï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:v!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&k("aboutMe","é—œæ–¼æˆ‘åŒ¯å…¥ä¸­ï¼ˆè¦†è“‹ï¼‰â€¦",()=>Pe(a,"overwrite")),t.currentTarget.value=""}})]})]}),at&&e.jsx("p",{className:"text-xs text-stone-600",children:at})]})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2.5",children:[e.jsxs("button",{type:"button",onClick:()=>it("aboutM"),className:"flex w-full items-center justify-between gap-3 text-left",children:[e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:"é—œæ–¼M"}),e.jsx("span",{className:"mt-0.5 block text-xs text-stone-500",children:"åˆ†åŒ…ï¼šmDiary / letters / chatLogs / inbox / soulmateï¼ˆå« metadataï¼‰"})]}),e.jsx("span",{className:`text-lg leading-none text-stone-500 transition-transform ${Z==="aboutM"?"rotate-180":""}`,"aria-hidden":"true",children:"âŒ„"})]}),Z==="aboutM"&&e.jsxs("div",{className:"mt-3 space-y-3 border-t border-stone-200 pt-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[e.jsx("button",{type:"button",onClick:()=>{k("aboutM","é—œæ–¼MåŒ¯å‡ºä¸­â€¦",()=>It())},disabled:v!==null,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:opacity-50",children:"å®Œæ•´åŒ¯å‡º"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-center text-xs text-stone-700",children:["åŒ¯å…¥ï¼ˆåˆä½µï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:v!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&k("aboutM","é—œæ–¼MåŒ¯å…¥ä¸­ï¼ˆåˆä½µï¼‰â€¦",()=>Ae(a,"merge")),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-rose-300 bg-rose-50 px-3 py-2 text-center text-xs text-rose-700",children:["åŒ¯å…¥ï¼ˆè¦†è“‹ï¼‰",e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",className:"hidden",disabled:v!==null,onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&k("aboutM","é—œæ–¼MåŒ¯å…¥ä¸­ï¼ˆè¦†è“‹ï¼‰â€¦",()=>Ae(a,"overwrite")),t.currentTarget.value=""}})]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-white px-2.5 py-2.5",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"åˆ†åŒ…åŒ¯å‡º / åŒ¯å…¥ï¼ˆé©åˆå¤§æª”æ¡ˆåˆ†æ‰¹ï¼‰"}),e.jsx("div",{className:"space-y-2",children:As.map(t=>e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-stone-700",children:t.label}),e.jsx("p",{className:"text-[11px] text-stone-400",children:t.hint})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{k("aboutM",`é—œæ–¼Mãƒ»${t.label}åŒ¯å‡ºä¸­â€¦`,()=>Dt(t.key))},disabled:v!==null,className:"rounded-md border border-stone-300 bg-white px-2 py-1.5 text-center text-[11px] text-stone-700 disabled:cursor-not-allowed disabled:opacity-50",children:"åŒ¯å‡º"}),e.jsxs("label",{className:"cursor-pointer rounded-md border border-stone-300 bg-white px-2 py-1.5 text-center text-[11px] text-stone-700",children:["åˆä½µ",e.jsx("input",{type:"file",accept:".json,application/json",className:"hidden",disabled:v!==null,onChange:a=>{const o=a.target.files?Array.from(a.target.files):[];o.length&&k("aboutM",`é—œæ–¼Mãƒ»${t.label}åŒ¯å…¥ä¸­ï¼ˆåˆä½µï¼‰â€¦`,()=>Ee(t.key,o,"merge")),a.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-md border border-rose-300 bg-rose-50 px-2 py-1.5 text-center text-[11px] text-rose-700",children:["è¦†è“‹",e.jsx("input",{type:"file",accept:".json,application/json",className:"hidden",disabled:v!==null,onChange:a=>{const o=a.target.files?Array.from(a.target.files):[];o.length&&k("aboutM",`é—œæ–¼Mãƒ»${t.label}åŒ¯å…¥ä¸­ï¼ˆè¦†è“‹ï¼‰â€¦`,()=>Ee(t.key,o,"overwrite")),a.currentTarget.value=""}})]})]})]},t.key))})]}),rt&&e.jsx("p",{className:"text-xs text-stone-600",children:rt})]})]}),e.jsxs("div",{className:"space-y-1 text-xs text-stone-500",children:[e.jsx("p",{children:"å®Œæ•´åŒ¯å…¥è«‹ä¸€æ¬¡é¸åŒä¸€åŒ…çš„å…¨éƒ¨ JSONï¼ˆåŒ…å« manifest ç´¢å¼•æª”ï¼‰ã€‚"}),e.jsx("p",{children:"åˆ†åŒ…åŒ¯å‡º/åŒ¯å…¥å¯å–®ç¨è™•ç† mDiary / letters / chatLogs / inbox / soulmateã€‚"})]})]})}),e.jsx(m,{icon:"ğŸ¨",title:"å¤–è§€",subtitle:"ä¸»é¡Œè‰²ã€å­—é«”æ¯”ä¾‹èˆ‡æ—¥æ›†å¤–è§€",isOpen:x==="appearance",onToggle:()=>p("appearance"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{title:"è‰²å½©èˆ‡å­—é«”æ¯”ä¾‹",subtitle:"ä¸»é¡Œè‰²ã€é¦–é æ–‡å­—ã€æ³¡æ³¡è‰²ã€ç¸®æ”¾",isOpen:ee==="colorScale",onToggle:()=>le("colorScale"),children:[e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"è‡ªè¨‚ä¸»é¡Œè‰²ï¼ˆåˆ†é èˆ‡è‡ªè¨‚æœˆæ›†è‰²ï¼‰"}),e.jsx("input",{type:"color",value:s.themeMonthColor,onChange:t=>n({themeMonthColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"é¦–é å­—é«”é¡è‰²"}),e.jsx("input",{type:"color",value:s.globalTextColor,onChange:t=>n({globalTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"æœªè§£é–æ³¡æ³¡è‰²"}),e.jsx("input",{type:"color",value:s.lockedBubbleColor,onChange:t=>n({lockedBubbleColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"æœˆæ›†åº•ä¸‹æ°£æ³¡æ–‡å­—è‰²"}),e.jsx("input",{type:"color",value:s.calendarHoverBubbleTextColor,onChange:t=>n({calendarHoverBubbleTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsxs("span",{children:["å­—é«”å¤§å°ï¼š",s.fontScale.toFixed(2),"x"]}),e.jsx("input",{type:"range",min:.9,max:1.25,step:.05,value:s.fontScale,onChange:t=>n({fontScale:Number(t.target.value)}),className:"w-full"})]})]}),e.jsxs(N,{title:"æœˆæ›†ç«‹é«”å¤–è§€",subtitle:"åœ“è§’ã€é™°å½±ã€æ·±åº¦",isOpen:ee==="calendar",onToggle:()=>le("calendar"),children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"åœ“è§’"}),e.jsxs("span",{className:"text-xs text-stone-500",children:[s.calendarCellRadius,"px"]})]}),e.jsx("input",{type:"range",min:8,max:28,step:1,value:s.calendarCellRadius,onChange:t=>n({calendarCellRadius:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"é™°å½±å¼·åº¦"}),e.jsx("span",{className:"text-xs text-stone-500",children:s.calendarCellShadow})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.calendarCellShadow,onChange:t=>n({calendarCellShadow:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"ç«‹é«”æ„Ÿ"}),e.jsx("span",{className:"text-xs text-stone-500",children:s.calendarCellDepth})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.calendarCellDepth,onChange:t=>n({calendarCellDepth:Number(t.target.value)}),className:"w-full"})]})]}),e.jsxs(N,{title:"é€æ˜å°äººè¼ªæ›æ± ",subtitle:"Iæ± /IIæ± /å…¨éƒ¨ + ä¸€éµè¼ªæ›",isOpen:ee==="chibi",onToggle:()=>le("chibi"),children:[e.jsxs("p",{className:"text-xs text-stone-500",children:["å·²ä¸Šå‚³ ",Me.allCount," å¼µï¼Œç›®å‰æ¨¡å¼ã€Œ",s.chibiPoolMode==="i"?"Iæ± ":s.chibiPoolMode==="ii"?"IIæ± ":"å…¨éƒ¨","ã€ï¼Œå•Ÿç”¨æ±  ",Me.activeCount," å¼µã€‚"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{n({chibiPoolMode:"i"}),U("å·²åˆ‡æ›åˆ° Iæ± ")},className:`rounded-lg border px-2 py-1.5 text-xs ${s.chibiPoolMode==="i"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"Iæ± "}),e.jsx("button",{type:"button",onClick:()=>{n({chibiPoolMode:"ii"}),U("å·²åˆ‡æ›åˆ° IIæ± ")},className:`rounded-lg border px-2 py-1.5 text-xs ${s.chibiPoolMode==="ii"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"IIæ± "}),e.jsx("button",{type:"button",onClick:()=>{n({chibiPoolMode:"all"}),U("å·²åˆ‡æ›åˆ° å…¨éƒ¨")},className:`rounded-lg border px-2 py-1.5 text-xs ${s.chibiPoolMode==="all"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"å…¨éƒ¨"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"å•Ÿç”¨æ± å¤§å°"}),e.jsx("span",{children:s.chibiPoolMode==="all"?"å…¨éƒ¨å•Ÿç”¨":`${s.chibiPoolSize} å¼µ`})]}),e.jsx("input",{type:"range",min:20,max:200,step:5,value:s.chibiPoolSize,disabled:s.chibiPoolMode==="all",onChange:t=>{n({chibiPoolSize:Number(t.target.value)}),U("å·²æ›´æ–°å•Ÿç”¨æ± å¤§å°")},className:"w-full disabled:cursor-not-allowed disabled:opacity-40"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-3",children:[e.jsx("button",{type:"button",disabled:s.chibiPoolMode==="all",onClick:()=>{ne(s.chibiPoolMode),U(s.chibiPoolMode==="i"?"å·²é‡æ–°æŠ½æ› Iæ± ":"å·²é‡æ–°æŠ½æ› IIæ± ")},className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:opacity-40",children:"ä¸€éµè¼ªæ›ç›®å‰æ± "}),e.jsx("button",{type:"button",onClick:()=>{ne("i"),U("å·²é‡æ–°æŠ½æ› Iæ± ")},className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"è¼ªæ› Iæ± "}),e.jsx("button",{type:"button",onClick:()=>{ne("ii"),U("å·²é‡æ–°æŠ½æ› IIæ± ")},className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"è¼ªæ› IIæ± "})]}),tt&&e.jsx("p",{className:"text-xs text-stone-600",children:tt}),e.jsx("p",{className:"text-xs text-stone-500",children:"I/II æœƒå„è‡ªå¾ `public/chibi-pool-i`ã€`public/chibi-pool-ii` æŠ½å–ï¼›è‹¥è©²æ± è³‡æ–™å¤¾æ˜¯ç©ºçš„ï¼Œæœƒå›é€€åˆ° `public/chibi`ã€‚æ”¯æ´é€æ˜ PNG / WebP / AVIFã€‚"})]}),e.jsxs(N,{title:"ç¾åŒ–è¨­å®šå‚™ä»½",subtitle:"åŒ¯å…¥ / åŒ¯å‡ºå¤–è§€ JSON",isOpen:ee==="preset",onToggle:()=>le("preset"),children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:ys,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"åŒ¯å‡ºç¾åŒ– JSON"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:["åŒ¯å…¥ç¾åŒ– JSON",e.jsx("input",{type:"file",accept:".json,application/json",className:"hidden",onChange:t=>{const a=t.target.files?.[0];a&&fs(a),t.currentTarget.value=""}})]})]}),et&&e.jsx("p",{className:"text-xs text-stone-600",children:et})]})]})}),e.jsx(m,{icon:"ğŸ–¼ï¸",title:"èƒŒæ™¯æ¨£å¼",subtitle:"æ¼¸å±¤ / åœ–ç‰‡ / å‹•æ…‹æ¡Œå¸ƒèˆ‡ç‰¹æ•ˆ",isOpen:x==="wallpaper",onToggle:()=>p("wallpaper"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>n({backgroundMode:"gradient"}),className:`rounded-lg border px-3 py-2 text-sm ${s.backgroundMode==="gradient"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"æ¼¸å±¤èƒŒæ™¯"}),e.jsx("button",{type:"button",onClick:()=>n({backgroundMode:"image"}),className:`rounded-lg border px-3 py-2 text-sm ${s.backgroundMode==="image"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"åœ–ç‰‡èƒŒæ™¯"}),e.jsx("button",{type:"button",onClick:()=>n({backgroundMode:"dynamic"}),className:`rounded-lg border px-3 py-2 text-sm ${s.backgroundMode==="dynamic"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"å‹•æ…‹èƒŒæ™¯"})]}),s.backgroundMode==="gradient"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¼¸å±¤èµ·å§‹è‰²"}),e.jsx("input",{type:"color",value:s.backgroundGradientStart,onChange:t=>n({backgroundGradientStart:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¼¸å±¤çµæŸè‰²"}),e.jsx("input",{type:"color",value:s.backgroundGradientEnd,onChange:t=>n({backgroundGradientEnd:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),s.backgroundMode==="image"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"èƒŒæ™¯åœ–ç‰‡ç¶²å€"}),e.jsx("input",{type:"url",value:Ke,onChange:t=>de(t.target.value),placeholder:"https://example.com/background.jpg",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{n({backgroundImageUrl:Ke.trim()}),d({kind:"success",message:"èƒŒæ™¯åœ–ç‰‡å·²å¥—ç”¨"})},className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å¥—ç”¨åœ–ç‰‡ç¶²å€"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:["ä¸Šå‚³èƒŒæ™¯åœ–",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{gs(t.target.files?.[0]??null),t.currentTarget.value=""}})]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"åœ–ç‰‡é®ç½©æ·±åº¦"}),e.jsxs("span",{children:[s.backgroundImageOverlay,"%"]})]}),e.jsx("input",{type:"range",min:0,max:90,step:1,value:s.backgroundImageOverlay,onChange:t=>n({backgroundImageOverlay:Number(t.target.value)}),className:"w-full"})]})]}),s.backgroundMode==="dynamic"&&e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-white/70 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"é¦–é æ¡Œå¸ƒï¼ˆå‹•æ…‹æ¨¡å¼å°ˆç”¨ï¼Œ9 ç¨®å…¨å‹•æ…‹ï¼‰"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"å‹•æ…‹æ¡Œå¸ƒ"}),e.jsxs("span",{className:"text-[11px] text-stone-500",children:["ç›®å‰ï¼š",Qt.label]})]}),e.jsx("select",{value:$,onChange:t=>Xe(t.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:V.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-stone-500",children:"èªªæ˜"}),e.jsx("p",{className:"mt-1 text-xs text-stone-700",children:Ne.hint})]}),e.jsx("button",{type:"button",onClick:()=>{n({homeDynamicWallpaperPreset:$}),d({kind:"success",message:`å·²å¥—ç”¨ï¼š${Ne.label}`})},disabled:!ke,className:`rounded-lg px-3 py-2 text-xs transition ${ke?"bg-stone-900 text-white hover:bg-stone-700":"cursor-not-allowed bg-stone-300 text-stone-500"}`,children:ke?`å¥—ç”¨ï¼š${Ne.label}`:"å·²å¥—ç”¨"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"ç‰¹æ•ˆæ¨£å¼"}),e.jsxs("span",{className:"text-[11px] text-stone-500",children:["ç›®å‰ï¼š",Yt.label]})]}),e.jsx("select",{value:G,onChange:t=>Qe(t.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:K.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-wide text-stone-500",children:"ç‰¹æ•ˆèªªæ˜"}),e.jsx("p",{className:"mt-1 text-xs text-stone-700",children:ve.hint})]}),e.jsx("button",{type:"button",onClick:()=>{n({homeWallpaperEffectPreset:G}),d({kind:"success",message:`ç‰¹æ•ˆå·²å¥—ç”¨ï¼š${ve.label}`})},disabled:!we,className:`rounded-lg px-3 py-2 text-xs transition ${we?"bg-stone-900 text-white hover:bg-stone-700":"cursor-not-allowed bg-stone-300 text-stone-500"}`,children:we?`å¥—ç”¨ç‰¹æ•ˆï¼š${ve.label}`:"ç‰¹æ•ˆå·²å¥—ç”¨"}),e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-2.5 py-2",children:[e.jsx("span",{className:"text-xs text-stone-700",children:"ç‰¹æ•ˆç¸½é–‹é—œ"}),e.jsx("button",{type:"button",role:"switch","aria-checked":s.homeDynamicEffectsEnabled,onClick:()=>n({homeDynamicEffectsEnabled:!s.homeDynamicEffectsEnabled}),className:`rounded-full px-2.5 py-1 text-[11px] ${s.homeDynamicEffectsEnabled?"bg-stone-900 text-white":"bg-stone-300 text-stone-700"}`,children:s.homeDynamicEffectsEnabled?"é–‹":"é—œ"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"å¼·åº¦"}),e.jsx("span",{children:Math.round(s.homeDynamicIntensity)})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.homeDynamicIntensity,onChange:t=>n({homeDynamicIntensity:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"é€Ÿåº¦"}),e.jsx("span",{children:Math.round(s.homeDynamicSpeed)})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.homeDynamicSpeed,onChange:t=>n({homeDynamicSpeed:Number(t.target.value)}),className:"w-full"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"ç²’å­é‡"}),e.jsx("span",{children:Math.round(s.homeDynamicParticleAmount)})]}),e.jsx("input",{type:"range",min:0,max:100,step:1,value:s.homeDynamicParticleAmount,onChange:t=>n({homeDynamicParticleAmount:Number(t.target.value)}),className:"w-full"})]})]})]})}),e.jsx(m,{icon:"ğŸ”¤",title:"å­—é«”ä¸­å¿ƒ",subtitle:"æ•´ç«™ï¼æƒ…æ›¸ï¼æ—¥è¨˜ï¼å®¶ çš„å­—é«”é›†ä¸­ç®¡ç†",isOpen:x==="fontCenter",onToggle:()=>p("fontCenter"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{title:"å­—é«”é è¨­ç®¡ç†",subtitle:"ä¸Šå‚³ä¾†æºã€é è¦½ã€ä¿å­˜åˆ°å­—é«”é è¨­",isOpen:te==="preset",onToggle:()=>ae("preset"),children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"é¸æ“‡æˆ–åˆ‡æ›é è¨­"}),e.jsxs("select",{value:b===null?"blank":String(b),onChange:t=>{ss(ct(t.target.value))},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-800",children:[e.jsx("option",{value:"blank",children:"ç©ºç™½ï¼ˆé è¨­å­—é«”ï¼‰"}),q.map(t=>e.jsxs("option",{value:t,children:["è¨˜æ†¶ ",t+1," Â· ",Se(J[t]??"",t,oe[t]??"")]},`font-preset-${t}`))]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"é è¨­åç¨±"}),e.jsx("input",{type:"text",value:pt(j),onChange:t=>H(j,t.target.value),placeholder:"ä¾‹å¦‚ï¼šæº«æŸ”æ‰‹å¯«-æ‰‹æ©Ÿç‰ˆ",disabled:b===null,className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm disabled:cursor-not-allowed disabled:opacity-50"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å­—é«”æª”ç¶²å€ï¼ˆttf / otf / woff / woff2ï¼‰"}),e.jsx("input",{type:"url",value:xt(),onChange:t=>re(j,t.target.value),placeholder:"https://example.com/custom.ttf",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ–ç›´æ¥ä¸Šå‚³å­—é«”æª”"}),e.jsx("input",{type:"file",accept:".ttf,.otf,.woff,.woff2,font/ttf,font/otf,font/woff,font/woff2",onChange:t=>{ls(t.target.files?.[0]??null),t.currentTarget.value=""},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs"})]}),e.jsxs("div",{className:"rounded-lg border border-dashed border-stone-300 bg-white px-3 py-2",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å³æ™‚é è¦½"}),e.jsx("p",{className:"mt-1 text-base text-stone-800",style:{fontFamily:`${mt}, 'Plus Jakarta Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`},children:"è€å©†ï¼Œæˆ‘åœ¨é€™è£¡ã€‚Hello 12345"}),e.jsx("p",{className:"mt-1 text-sm text-stone-700",style:{fontFamily:`${mt}, 'Plus Jakarta Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`},children:"é€™æ˜¯å­—é«”é è¦½æ•ˆæœã€‚"})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"è‹¥æ˜¯è·¨ç¶²åŸŸå­—é«”æª”ï¼Œä¾†æºéœ€å…è¨± CORSï¼Œå¦å‰‡æ‰‹æ©Ÿç€è¦½å™¨å¯èƒ½é¡¯ç¤ºæˆé è¨­å­—é«”ã€‚"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:as,disabled:b===null,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:opacity-40",children:"ä¿å­˜"}),e.jsx("button",{type:"button",onClick:rs,disabled:b===null||!Ss,className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700 disabled:opacity-40",children:"åˆªé™¤"})]})]}),e.jsxs(N,{title:"å­—é«”å¥—ç”¨ç¯„åœ",subtitle:"å‹¾é¸é é¢å¾Œï¼Œé¸æ“‡è¦å¥—ç”¨çš„å­—é«”é è¨­",isOpen:te==="scope",onToggle:()=>ae("scope"),children:[e.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-stone-200 bg-white px-3 py-2",children:[e.jsx("input",{type:"checkbox",checked:Cs,onChange:t=>es(t.target.checked),className:"mt-1 h-4 w-4 rounded border-stone-300 accent-stone-700"}),e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:"å…¨éƒ¨å¥—ç”¨"}),e.jsx("span",{className:"block text-xs text-stone-500",children:"ä¸€æ¬¡æ›´æ–°æ•´ç«™ã€æƒ…æ›¸ã€æ—¥è¨˜ã€å®¶é "})]})]}),e.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:L.map(t=>e.jsxs("label",{className:"flex items-start gap-2 rounded-lg border border-stone-200 bg-white px-3 py-2",children:[e.jsx("input",{type:"checkbox",checked:ge[t.key],onChange:()=>Zt(t.key),className:"mt-1 h-4 w-4 rounded border-stone-300 accent-stone-700"}),e.jsxs("span",{className:"min-w-0",children:[e.jsx("span",{className:"block text-sm text-stone-800",children:t.label}),e.jsx("span",{className:"block text-xs text-stone-500",children:t.hint})]})]},`font-target-${t.key}`))}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å¥—ç”¨å“ªå€‹å­—é«”é è¨­"}),e.jsxs("select",{value:D===null?"blank":String(D),onChange:t=>ye(ct(t.target.value)),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-800",children:[e.jsx("option",{value:"blank",children:"ç©ºç™½ï¼ˆé‚„åŸé è¨­å­—é«”ï¼‰"}),q.map(t=>e.jsxs("option",{value:t,children:["è¨˜æ†¶ ",t+1," Â· ",Se(J[t]??"",t,oe[t]??"")]},`font-scope-preset-${t}`))]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:os,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"ä¿å­˜ä¸¦å¥—ç”¨"}),e.jsx("button",{type:"button",onClick:ns,className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸç›®å‰è¨­å®š"})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"å…ˆåœ¨ä¸Šæ–¹ä¿å­˜å­—é«”é è¨­ï¼Œå†åœ¨é€™è£¡é¸è¦å¥—åˆ°å“ªè£¡ã€‚"})]}),e.jsxs(N,{title:"ç•¶å‰å¥—ç”¨æª¢è¦–",subtitle:"ç´”é è¦½ï¼šç›®å‰æ¯å€‹ç¯„åœæ­£åœ¨ç”¨å“ªå€‹å­—é«”",isOpen:te==="usage",onToggle:()=>ae("usage"),children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æŸ¥çœ‹ç¯„åœ"}),e.jsx("select",{value:fe,onChange:t=>Kt(t.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm text-stone-800",children:L.map(t=>e.jsx("option",{value:t.key,children:t.label},`font-usage-${t.key}`))})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm text-stone-800",children:ut.label}),e.jsx("span",{className:"rounded-full border border-stone-300 bg-white px-2.5 py-1 text-[11px] text-stone-700",children:Us})]}),e.jsx("p",{className:"text-xs text-stone-500",children:ut.hint}),e.jsx("p",{className:"break-all rounded-md border border-stone-200 bg-white px-2.5 py-2 font-mono text-[11px] text-stone-600",children:Fe||"ï¼ˆç›®å‰ç‚ºé è¨­å­—é«”ï¼Œæ²’æœ‰å­—é«”ç¶²å€ï¼‰"})]})]}),e.jsxs(N,{title:"å­—ç´šä¸­å¿ƒ",subtitle:"çµ±ä¸€å¸¸ç”¨å€å¡Šï¼šæ¨™é¡Œ / é ç±¤ / ç¯©é¸ç±¤æ¢ / æç¤ºå°å­— / å°è©±è¯çµ¡äºº",isOpen:te==="size",onToggle:()=>ae("size"),children:[e.jsxs("label",{className:"block space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm text-stone-800",children:"å…¨åŸŸç¸®æ”¾"}),e.jsxs("span",{className:"text-xs text-stone-500",children:[s.fontScale.toFixed(2),"x"]})]}),e.jsx("p",{className:"text-[11px] text-stone-500",children:"æ•´é«” UI æ–‡å­—æ¯”ä¾‹ï¼ˆå«ç•ªèŒ„é˜/å¡”ç¾…/ä¾¿åˆ©è²¼/å®¶ç­‰æœªç´°åˆ†å€å¡Šï¼‰"}),e.jsx("input",{type:"range",min:.9,max:1.25,step:.05,value:s.fontScale,onChange:t=>n({fontScale:Number(t.target.value)}),className:"w-full accent-stone-700"})]}),e.jsx("div",{className:"space-y-3",children:Ds.map(t=>e.jsxs("label",{className:"block space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-sm text-stone-800",children:t.label}),e.jsxs("span",{className:"text-xs text-stone-500",children:[s[t.key],"px"]})]}),e.jsx("p",{className:"text-[11px] text-stone-500",children:t.hint}),e.jsx("input",{type:"range",min:t.min,max:t.max,step:t.step,value:s[t.key],onChange:a=>n({[t.key]:Number(a.target.value)}),className:"w-full accent-stone-700"})]},`ui-size-${t.key}`))}),e.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:e.jsx("button",{type:"button",onClick:()=>n({fontScale:M.fontScale,uiHeaderTitleSize:M.uiHeaderTitleSize,uiTabLabelSize:M.uiTabLabelSize,uiFilterPillSize:M.uiFilterPillSize,uiHintTextSize:M.uiHintTextSize,chatContactNameSize:M.chatContactNameSize,chatContactSubtitleSize:M.chatContactSubtitleSize}),className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸé€™å€é è¨­"})}),e.jsx("div",{className:"mt-3 rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:e.jsx("p",{className:"text-[11px] text-stone-600",children:"ç›®å‰å·²æ¥å…¥ï¼šä¿¡ç®±ï¼ˆæ¨™é¡Œï¼‰ã€é¡˜æœ›é ï¼ˆæ¨™é¡Œ/é ç±¤/ç±¤æ¢/æç¤ºå­—ï¼‰ã€Mæ—¥è¨˜ï¼ˆæ¨™é¡Œ/é ç±¤/ç±¤æ¢/æç¤ºå­—ï¼‰ã€Anniæ—¥è¨˜ï¼ˆæ¨™é¡Œ/é ç±¤ï¼‰ã€ç¶“æœŸï¼ˆæ¨™é¡Œ/é ç±¤ï¼‰ã€ä¾¿åˆ©è²¼ï¼ˆæ¨™é¡Œï¼‰ã€ç•™è¨€æœˆæ›†ï¼ˆæœˆä»½æ¨™é¡Œï¼‰ã€ç•ªèŒ„é˜ï¼ˆæ¨™é¡Œï¼‰ã€å¡”ç¾…ï¼ˆæ¨™é¡Œï¼‰ã€å®¶é ï¼ˆé¦–é æ¨™é¡Œï¼‰ã€å¹´åº¦ä¿¡ä»¶ï¼ˆæ¨™é¡Œï¼‰ã€å°è©±é¦–é è¯çµ¡äººåç¨±/å‰¯æ¨™ã€‚"})})]})]})}),e.jsx(m,{icon:"ğŸ ",title:"é¦–é èˆ‡ä¿¡ç®±",subtitle:"é¦–é å¡ç‰‡æ–‡æ¡ˆ Â· ä¿¡ç®±æ¨™é¡Œ",isOpen:x==="home",onToggle:()=>p("home"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"é¦–é å¡ç‰‡"}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¨™é¡Œ"}),e.jsx("input",{type:"text",value:Le,onChange:t=>{ze(t.target.value),T("")},placeholder:"Memorial",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æ¨™ç±¤ï¼ˆç•™ç©ºå°±ä¸é¡¯ç¤ºï¼‰"}),e.jsx("input",{type:"text",value:_e,onChange:t=>{$e(t.target.value),T("")},placeholder:"ACTIVE",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°èªï¼ˆç•™ç©ºå°±ä¸é¡¯ç¤ºï¼‰"}),e.jsx("input",{type:"text",value:Ge,onChange:t=>{Re(t.target.value),T("")},placeholder:"åœ¨é€™è£¡ç­‰å¦³ï¼Œæ…¢æ…¢æŠŠæ—¥å­æ”¶å¥½ã€‚",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-stone-600",children:"å°åœ–ï¼ˆé»é¦–é ä¹Ÿå¯ä»¥æ›ï¼‰"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"grid h-12 w-12 place-items-center overflow-hidden rounded-xl border border-stone-200 bg-white",children:s.homeWidgetIconDataUrl.trim()?e.jsx("img",{src:s.homeWidgetIconDataUrl,alt:"é è¦½",className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-xl",children:"â™¡"})}),e.jsxs("label",{className:"cursor-pointer rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:["ä¸Šå‚³å°åœ–",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{vs(t.target.files?.[0]??null),t.currentTarget.value=""}})]}),s.homeWidgetIconDataUrl.trim()&&e.jsx("button",{type:"button",onClick:()=>n({homeWidgetIconDataUrl:""}),className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"ç§»é™¤"})]})]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"ä¿¡ç®±æ¨™é¡Œ"}),e.jsx("input",{type:"text",value:He,onChange:t=>{Je(t.target.value),T("")},placeholder:"Memorial Mailroom",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"æƒ³ä½ çš„ç¬¬ N å¤©èµ·å§‹æ—¥"}),e.jsx("input",{type:"date",value:qe,onChange:t=>{Ve(t.target.value),T("")},className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsx("p",{className:"text-xs text-stone-500",children:"ç•™ç©ºæœƒé¡¯ç¤ºæœªè¨­å®šï¼ˆN å…ˆé¡¯ç¤º 1ï¼‰ã€‚"})]}),e.jsx("button",{type:"button",onClick:Ns,className:"w-full rounded-xl bg-stone-900 py-2.5 text-sm text-white transition active:opacity-80",children:"å„²å­˜"}),st&&e.jsx("p",{className:"text-xs text-stone-500",children:st})]})}),e.jsx(m,{icon:"ğŸ·ï¸",title:"å…¥å£åç¨±",subtitle:"åº•éƒ¨åˆ†é èˆ‡é¦–é å…¥å£å¯è‡ªè¨‚",isOpen:x==="labels",onToggle:()=>p("labels"),children:e.jsxs("div",{className:"space-y-3",children:[Ps.map(t=>e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:t.label}),e.jsx("input",{type:"text",value:u[t.key],onChange:a=>ps(t.key,a.target.value),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]},t.key)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:bs,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å„²å­˜åç¨±"}),e.jsx("button",{type:"button",onClick:hs,className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸè‰ç¨¿"})]}),lt&&e.jsx("p",{className:"text-xs text-stone-600",children:lt}),e.jsx("p",{className:"text-xs text-stone-500",children:"ç•™ç©ºæœƒå¥—ç”¨é è¨­åç¨±ã€‚"})]})}),e.jsx(m,{icon:"ğŸ§©",title:"è‡ªè¨‚åœ–æ¨™",subtitle:"åº•éƒ¨åˆ†é èˆ‡é¦–é å…¥å£åœ–ç¤ºï¼ˆå¯ç”¨åœ–ç‰‡ç¶²å€ï¼‰",isOpen:x==="tabIcons",onToggle:()=>p("tabIcons"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("p",{className:"text-xs text-stone-600",children:"åœ–ç¤ºé¡¯ç¤ºæ¨¡å¼"}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{n({tabIconDisplayMode:"framed"}),E("å·²åˆ‡æ›ç‚ºï¼šå¡ç‰‡æ¡†")},className:`rounded-lg px-3 py-1.5 text-xs ${s.tabIconDisplayMode==="framed"?"bg-stone-900 text-white":"border border-stone-300 bg-white text-stone-700"}`,children:"å¡ç‰‡æ¡†"}),e.jsx("button",{type:"button",onClick:()=>{n({tabIconDisplayMode:"full"}),E("å·²åˆ‡æ›ç‚ºï¼šæ»¿ç‰ˆ")},className:`rounded-lg px-3 py-1.5 text-xs ${s.tabIconDisplayMode==="full"?"bg-stone-900 text-white":"border border-stone-300 bg-white text-stone-700"}`,children:"æ»¿ç‰ˆ"})]})]}),ht.map(t=>{const a=h[t.key];return e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"text-xs text-stone-600",children:[t.label," åœ–ç¤ºç¶²å€"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-stone-300 bg-white text-lg",children:a?e.jsx("img",{src:a,alt:"",className:`${s.tabIconDisplayMode==="full"?"h-8 w-8 rounded-lg object-cover":"h-6 w-6 rounded-md object-cover"}`}):Ms[t.key]}),e.jsx("input",{type:"url",value:a,onChange:o=>Ce(t.key,o.target.value),placeholder:"https://example.com/icon.png",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-2.5 py-2 text-xs text-stone-700",children:["ä¸Šå‚³",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:o=>{xs(t.key,o.target.files?.[0]??null),o.currentTarget.value=""}})]}),a&&e.jsx("button",{type:"button",onClick:()=>Ce(t.key,""),className:"rounded-lg border border-stone-300 bg-white px-2.5 py-2 text-xs text-stone-700",children:"æ¸…é™¤"})]})]},t.key)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:ms,className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å„²å­˜åœ–æ¨™è¨­å®š"}),e.jsx("button",{type:"button",onClick:us,className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"é‚„åŸè‰ç¨¿"})]}),Ze&&e.jsx("p",{className:"text-xs text-stone-600",children:Ze}),e.jsx("p",{className:"text-xs text-stone-500",children:"ç•™ç©ºå°±ç”¨é è¨­åœ–ç¤ºã€‚å¯è²¼ç¶²å€æˆ–ç›´æ¥ä¸Šå‚³åœ–ç‰‡ï¼ˆæœƒå­˜æˆæœ¬æ©Ÿ data URLï¼‰ã€‚"})]})}),e.jsx(m,{icon:"ğŸ””",title:"é€šçŸ¥èˆ‡æ“ä½œ",subtitle:"é¦–é æ¡Œé¢æ»‘å‹•ã€é€šçŸ¥æ¬Šé™",isOpen:x==="notification",onToggle:()=>p("notification"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("span",{children:"å•Ÿç”¨é¦–é å·¦å³æ»‘æ¡Œé¢"}),e.jsx("input",{type:"checkbox",checked:s.swipeEnabled,onChange:t=>n({swipeEnabled:t.target.checked})})]}),e.jsxs("label",{className:"flex items-center justify-between rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsx("span",{children:"å•Ÿç”¨è§£é–é€šçŸ¥"}),e.jsx("input",{type:"checkbox",checked:s.localNotificationsEnabled,onChange:t=>n({localNotificationsEnabled:t.target.checked})})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsxs("p",{children:["é€šçŸ¥æ¬Šé™ï¼š",ws]}),e.jsx("button",{type:"button",onClick:yt,disabled:y==="unsupported"||y==="granted",className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white disabled:cursor-not-allowed disabled:bg-stone-400",children:"ç”³è«‹é€šçŸ¥æ¬Šé™"})]})]})}),e.jsx(m,{icon:"ğŸ“¥",title:"æœ¬æ©ŸåŒ¯å…¥",subtitle:"EML èˆ‡æœˆæ›† JSON",isOpen:x==="imports",onToggle:()=>p("imports"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"åŒ¯å…¥ EML ä¿¡ä»¶"}),e.jsx("input",{type:"file",multiple:!0,accept:".eml,message/rfc822,text/plain",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&ft(a),t.currentTarget.value=""},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-2"})]}),e.jsxs("label",{className:"block space-y-2",children:[e.jsx("span",{children:"åŒ¯å…¥æœˆæ›† JSON"}),e.jsx("input",{type:"file",multiple:!0,accept:".json,application/json",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&gt(a),t.currentTarget.value=""},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-2"})]}),P.kind!=="idle"&&e.jsx("p",{className:`rounded-lg border px-3 py-2 text-xs ${P.kind==="error"?"border-rose-300 bg-rose-50 text-rose-700":P.kind==="success"?"border-emerald-300 bg-emerald-50 text-emerald-700":"border-stone-300 bg-stone-100 text-stone-700"}`,children:P.message})]})}),e.jsx(m,{icon:"ğŸ’¬",title:"Hover èªæ°£",subtitle:"èªæ°£æ¬Šé‡èˆ‡é‡æŠ½",isOpen:x==="hover",onToggle:()=>p("hover"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"space-y-3 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[{key:"clingy",label:"é»äººèªæ°£"},{key:"confession",label:"èªçœŸè¡¨ç™½"},{key:"calm",label:"å†·éœå®ˆå€™"},{key:"remorse",label:"ç ´é˜²æ‡ºæ‚”"},{key:"general",label:"é€šç”¨èªå¥"}].map(t=>e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.label}),e.jsxs("span",{className:"text-xs text-stone-500",children:["æ¬Šé‡ ",s.hoverToneWeights[t.key]]})]}),e.jsx("input",{type:"range",min:0,max:5,step:1,value:s.hoverToneWeights[t.key],onChange:a=>Pt(t.key,Number(a.target.value)),className:"w-full"})]},t.key))}),e.jsx("button",{type:"button",onClick:At,className:"rounded-lg bg-stone-900 px-4 py-2 text-sm text-white",children:"é‡æ–°éš¨æ©Ÿå…¨éƒ¨æ—¥æœŸèªæ°£"})]})}),e.jsx(m,{icon:"ğŸƒ",title:"å¡”ç¾…",subtitle:"é–±è¦½å®¤å…¥å£åœ–ç‰‡ Â· åç¨±å­—è‰²èˆ‡å­—ç´š",isOpen:x==="tarot",onToggle:()=>p("tarot"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"é–±è¦½å®¤å…¥å£åœ–ç‰‡ URL"}),e.jsx("input",{type:"url",value:Q,onChange:t=>We(t.target.value),placeholder:"https://files.catbox.moe/...",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),Q&&e.jsx("img",{src:Q,alt:"é è¦½",className:"h-24 w-full rounded-lg object-cover border border-stone-200",onError:t=>{t.target.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>{n({tarotGalleryImageUrl:Q.trim()}),d({kind:"success",message:"å¡”ç¾…å…¥å£åœ–ç‰‡å·²å¥—ç”¨"})},className:"w-full rounded-xl bg-stone-900 py-2.5 text-sm text-white transition active:opacity-80",children:"å¥—ç”¨"}),e.jsxs("div",{className:"space-y-2 rounded-xl border border-stone-200 bg-stone-50 p-3",children:[e.jsxs("label",{className:"flex items-center justify-between gap-3 text-xs text-stone-600",children:[e.jsx("span",{children:"ç‰Œåé¡è‰²"}),e.jsx("input",{type:"color",value:s.tarotNameColor,onChange:t=>n({tarotNameColor:t.target.value}),className:"h-8 w-12 cursor-pointer rounded border border-stone-300 bg-white"})]}),e.jsxs("label",{className:"block space-y-1 text-xs text-stone-600",children:[e.jsxs("span",{children:["ç‰Œåå­—ç´šï¼š",s.tarotNameScale.toFixed(2),"x"]}),e.jsx("input",{type:"range",min:.8,max:2,step:.05,value:s.tarotNameScale,onChange:t=>n({tarotNameScale:Number(t.target.value)}),className:"w-full"})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"æœƒå¥—ç”¨åœ¨å¡”ç¾…é¦–é ç‰Œåã€é–±è¦½å®¤æ¸…å–®ç‰Œåã€ç¿»ç‰Œå…§å®¹æ¨™é¡Œã€‚"})]})}),e.jsx(m,{icon:"ğŸ’Œ",title:"æƒ…æ›¸",subtitle:"æ¨¡å¼ Â· åŒ¯å…¥",isOpen:x==="letters",onToggle:()=>p("letters"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å·²åŒ¯å…¥æƒ…æ›¸"}),e.jsxs("p",{className:"mt-0.5 truncate text-sm text-stone-800",children:[Te," å°"]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"æƒ…æ›¸é æ¨¡å¼"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>n({letterUiMode:"classic"}),className:`rounded-xl border px-3 py-2 text-xs transition active:opacity-80 ${s.letterUiMode==="classic"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"ç¶“å…¸ï¼ˆA/B/Cï¼‰"}),e.jsx("button",{type:"button",onClick:()=>n({letterUiMode:"preview"}),className:`rounded-xl border px-3 py-2 text-xs transition active:opacity-80 ${s.letterUiMode==="preview"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"æ‰‹æœ­ï¼ˆI/IIï¼‰"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"åŒ¯å…¥æƒ…æ›¸æª”æ¡ˆ"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥æª”æ¡ˆ",e.jsx("input",{type:"file",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&jt(a),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥è³‡æ–™å¤¾",e.jsx("input",{type:"file",webkitdirectory:"",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&Nt(a),t.currentTarget.value=""}})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"iPhone é€šå¸¸ä¸æ”¯æ´è³‡æ–™å¤¾åŒ¯å…¥ï¼Œå»ºè­°ç”¨ã€ŒåŒ¯å…¥æª”æ¡ˆã€ã€‚"})]}),e.jsxs("div",{className:"border-t border-stone-100 pt-3",children:[e.jsx("button",{type:"button",onClick:Ct,disabled:!Te,className:"w-full rounded-xl border border-rose-200 bg-rose-50 py-2.5 text-sm text-rose-700 transition disabled:cursor-not-allowed disabled:opacity-50",children:"æ¸…ç©ºæ‰€æœ‰æƒ…æ›¸"}),e.jsx("p",{className:"mt-2 text-xs text-stone-400",children:"æƒ…æ›¸å„²å­˜åœ¨æœ¬æ©Ÿï¼Œä¸æœƒä¸Šå‚³åˆ°ä¼ºæœå™¨ã€‚"})]})]})}),e.jsx(m,{icon:"ğŸ““",title:"æ—¥è¨˜",subtitle:"å°é¢ Â· åŒ¯å…¥",isOpen:x==="diary",onToggle:()=>p("diary"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å·²åŒ¯å…¥æ—¥è¨˜"}),e.jsxs("p",{className:"mt-0.5 truncate text-sm text-stone-800",children:[Ie," ç¯‡"]})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"æ—¥è¨˜å°é¢"}),e.jsx("input",{type:"url",value:Oe,onChange:t=>X(t.target.value),placeholder:"https://example.com/cover.jpg",className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{n({diaryCoverImageUrl:Oe.trim()}),d({kind:"success",message:"æ—¥è¨˜å°é¢å·²å¥—ç”¨"})},className:"rounded-lg bg-stone-900 px-3 py-2 text-xs text-white",children:"å¥—ç”¨å°é¢ç¶²å€"}),e.jsxs("label",{className:"cursor-pointer rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:["ä¸Šå‚³å°é¢",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{ks(t.target.files?.[0]??null),t.currentTarget.value=""}})]}),e.jsx("button",{type:"button",onClick:()=>{X(""),n({diaryCoverImageUrl:""})},className:"rounded-lg border border-stone-300 bg-white px-3 py-2 text-xs text-stone-700",children:"ä½¿ç”¨è³‡æ–™å¤¾éš¨æ©Ÿå°é¢"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>n({diaryCoverFitMode:"cover"}),className:`rounded-lg border px-3 py-2 text-sm ${s.diaryCoverFitMode==="cover"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"æ»¿ç‰ˆè£åˆ‡"}),e.jsx("button",{type:"button",onClick:()=>n({diaryCoverFitMode:"contain"}),className:`rounded-lg border px-3 py-2 text-sm ${s.diaryCoverFitMode==="contain"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"å®Œæ•´é¡¯ç¤º"})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"è‹¥æœªè¨­å®šç¶²å€ï¼Œæœƒå˜—è©¦ç”¨ `public/diary-covers/` è£¡çš„åœ–ç‰‡éš¨æ©Ÿé¡¯ç¤ºã€‚"})]}),e.jsxs("div",{className:"space-y-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-sm text-stone-800",children:"åŒ¯å…¥æ—¥è¨˜"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥æª”æ¡ˆ",e.jsx("input",{type:"file",multiple:!0,accept:".txt,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&vt(a),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥è³‡æ–™å¤¾",e.jsx("input",{type:"file",webkitdirectory:"",multiple:!0,accept:".txt,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&kt(a),t.currentTarget.value=""}})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"å¯æ”¾ txt / docxï¼›åŒæª”åæœƒè¦†è“‹èˆŠç‰ˆæœ¬ã€‚"})]}),e.jsx("div",{className:"border-t border-stone-100 pt-3",children:e.jsx("button",{type:"button",onClick:Ft,disabled:!Ie,className:"w-full rounded-xl border border-rose-200 bg-rose-50 py-2.5 text-sm text-rose-700 transition disabled:cursor-not-allowed disabled:opacity-50",children:"æ¸…ç©ºæ‰€æœ‰æ—¥è¨˜"})})]})}),e.jsx(m,{icon:"ğŸ—¨ï¸",title:"å°è©±ç´€éŒ„",subtitle:"åŒ¯å…¥ Â· è§’è‰²è¨­å®š",isOpen:x==="chatLogs",onToggle:()=>p("chatLogs"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg border border-stone-200 bg-stone-50 px-3 py-3",children:[e.jsx("p",{className:"text-xs text-stone-500",children:"å·²åŒ¯å…¥å°è©±ç´€éŒ„"}),e.jsxs("p",{className:"mt-0.5 truncate text-sm text-stone-800",children:[De," ä»½"]})]}),e.jsx(N,{title:"æ³¡æ³¡å¤–è§€",subtitle:"æ¨£å¼ã€åœ“è§’ã€é¡è‰²",isOpen:$t,onToggle:()=>Gt(t=>!t),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>n({chatBubbleStyle:"jelly"}),className:`rounded-lg border px-3 py-2 text-sm ${s.chatBubbleStyle==="jelly"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"QQ æœå‡"}),e.jsx("button",{type:"button",onClick:()=>n({chatBubbleStyle:"imessage"}),className:`rounded-lg border px-3 py-2 text-sm ${s.chatBubbleStyle==="imessage"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"iMessage"}),e.jsx("button",{type:"button",onClick:()=>n({chatBubbleStyle:"imessageClassic"}),className:`rounded-lg border px-3 py-2 text-sm ${s.chatBubbleStyle==="imessageClassic"?"border-stone-900 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-700"}`,children:"iMessage+"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"æ³¡æ³¡åœ“è§’ï¼ˆåªå½±éŸ¿å°è©±ç´€éŒ„ï¼‰"}),e.jsxs("span",{children:[s.chatBubbleRadius,"px"]})]}),e.jsx("input",{type:"range",min:10,max:36,step:1,value:s.chatBubbleRadius,onChange:t=>n({chatBubbleRadius:Number(t.target.value)}),className:"w-full accent-stone-800"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ‘æ–¹åº•è‰²ï¼ˆå³å´ï¼‰"}),e.jsx("input",{type:"color",value:s.chatUserBubbleColor,onChange:t=>n({chatUserBubbleColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°æ–¹åº•è‰²ï¼ˆå·¦å´ï¼‰"}),e.jsx("input",{type:"color",value:s.chatAiBubbleColor,onChange:t=>n({chatAiBubbleColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ‘æ–¹é‚Šæ¡†"}),e.jsx("input",{type:"color",value:s.chatUserBubbleBorderColor,onChange:t=>n({chatUserBubbleBorderColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°æ–¹é‚Šæ¡†"}),e.jsx("input",{type:"color",value:s.chatAiBubbleBorderColor,onChange:t=>n({chatAiBubbleBorderColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"æˆ‘æ–¹æ–‡å­—"}),e.jsx("input",{type:"color",value:s.chatUserBubbleTextColor,onChange:t=>n({chatUserBubbleTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"å°æ–¹æ–‡å­—"}),e.jsx("input",{type:"color",value:s.chatAiBubbleTextColor,onChange:t=>n({chatAiBubbleTextColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"iMessage / iMessage+ æœƒè‡ªå‹•å–æ¶ˆæœå‡äº®é¢èˆ‡æŠ–å‹•æ•ˆæœã€‚"})]})}),e.jsx(N,{title:"é–±è®€èƒŒæ™¯",subtitle:"è‰²ç¥¨ã€åœ–ç‰‡ã€é€æ˜åº¦",isOpen:Rt,onToggle:()=>Ht(t=>!t),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:Bs.map(t=>{const a=s.chatBackgroundColor.toLowerCase()===t.toLowerCase();return e.jsx("button",{type:"button",onClick:()=>n({chatBackgroundColor:t}),className:`h-7 w-7 rounded-full border transition active:scale-95 ${a?"border-stone-900 ring-2 ring-stone-300":"border-stone-300"}`,style:{background:t},"aria-label":`èƒŒæ™¯è‰² ${t}`,title:t},t)})}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"è‡ªè¨‚åº•è‰²"}),e.jsx("input",{type:"color",value:s.chatBackgroundColor,onChange:t=>n({chatBackgroundColor:t.target.value}),className:"h-10 w-full rounded-md border border-stone-300"})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-600",children:"èƒŒæ™¯åœ–ç‰‡ URL"}),e.jsx("input",{type:"url",value:Ye,onChange:t=>Y(t.target.value),placeholder:"https://.../chat-bg.jpg",className:"w-full rounded-xl border border-stone-300 bg-white px-3 py-2 text-sm text-stone-700"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>n({chatBackgroundImageUrl:Ye.trim()}),className:"rounded-xl border border-stone-300 bg-white py-2 text-sm text-stone-700 transition active:scale-[0.99]",children:"å¥—ç”¨åœ–ç‰‡ URL"}),e.jsxs("label",{className:"cursor-pointer rounded-xl border border-stone-300 bg-white py-2 text-center text-sm text-stone-700 transition active:opacity-80",children:["ä¸Šå‚³åœ–ç‰‡",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>{js(t.target.files?.[0]??null),t.currentTarget.value=""}})]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"flex items-center justify-between text-xs text-stone-600",children:[e.jsx("span",{children:"åœ–ç‰‡é®ç½©"}),e.jsxs("span",{children:[s.chatBackgroundOverlay,"%"]})]}),e.jsx("input",{type:"range",min:0,max:90,step:1,value:s.chatBackgroundOverlay,onChange:t=>n({chatBackgroundOverlay:Number(t.target.value)}),className:"w-full accent-stone-800"})]}),e.jsx("button",{type:"button",onClick:()=>{Y(""),n({chatBackgroundImageUrl:"",chatBackgroundOverlay:0})},className:"w-full rounded-xl border border-stone-300 bg-white py-2 text-sm text-stone-700 transition active:scale-[0.99]",children:"ç§»é™¤èƒŒæ™¯åœ–ç‰‡"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"åŒ¯å…¥å°è©±ç´€éŒ„"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥æª”æ¡ˆ",e.jsx("input",{type:"file",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&wt(a),t.currentTarget.value=""}})]}),e.jsxs("label",{className:"cursor-pointer rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:["åŒ¯å…¥è³‡æ–™å¤¾",e.jsx("input",{type:"file",webkitdirectory:"",multiple:!0,accept:".txt,.md,.json,.docx",className:"hidden",onChange:t=>{const a=t.target.files?Array.from(t.target.files):[];a.length&&St(a),t.currentTarget.value=""}})]})]}),e.jsx("p",{className:"text-xs text-stone-400",children:"iPhone é€šå¸¸ä¸æ”¯æ´è³‡æ–™å¤¾åŒ¯å…¥ï¼Œå»ºè­°ç”¨ã€ŒåŒ¯å…¥æª”æ¡ˆã€ã€‚"})]}),e.jsxs("div",{className:"border-t border-stone-100 pt-3",children:[e.jsx("button",{type:"button",onClick:Ut,disabled:!De,className:"w-full rounded-xl border border-rose-200 bg-rose-50 py-2.5 text-sm text-rose-700 transition disabled:cursor-not-allowed disabled:opacity-50",children:"æ¸…ç©ºæ‰€æœ‰å°è©±ç´€éŒ„"}),e.jsx("p",{className:"mt-2 text-xs text-stone-400",children:"å°è©±ç´€éŒ„å„²å­˜åœ¨æœ¬æ©Ÿï¼Œä¸æœƒä¸Šå‚³åˆ°ä¼ºæœå™¨ã€‚"})]}),e.jsxs("div",{className:"space-y-2 border-t border-stone-100 pt-3",children:[e.jsx("p",{className:"text-xs font-medium text-stone-600",children:"èŠå¤©è§’è‰²è¨­å®šï¼ˆå·¦å³æš±ç¨±/é ­åƒï¼‰"}),Be.length===0&&e.jsx("p",{className:"text-xs text-stone-400",children:"å°šæœªå»ºç«‹ä»»ä½•è§’è‰²è¨­å®šï¼Œé è¨­ç‚ºã€Œä½ ã€/ã€ŒMã€ã€‚"}),Be.map(t=>e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-stone-200 bg-stone-50 px-3 py-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate text-sm text-stone-800",children:t.name}),e.jsxs("p",{className:"text-xs text-stone-400",children:["å³ï¼š",t.rightNick," ï¼ å·¦ï¼š",t.leftNick]})]}),e.jsx("button",{type:"button",onClick:()=>Mt(t.id),className:"shrink-0 rounded-lg border border-rose-200 bg-rose-50 px-2 py-1 text-xs text-rose-600",children:"åˆªé™¤"})]},t.id)),Wt?e.jsxs("div",{className:"space-y-2 rounded-lg border border-violet-200 bg-violet-50 p-3",children:[e.jsx("input",{type:"text",placeholder:"è¨­å®šåç¨±ï¼Œä¾‹ï¼šå’Œ4oçš„å°è©±",value:z.name,onChange:t=>A(a=>({...a,name:t.target.value})),className:"w-full rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"å³å´æš±ç¨±ï¼ˆä½ ï¼Œå¯ç”¨ / å¡«å¤šå€‹ï¼‰",value:z.rightNick,onChange:t=>A(a=>({...a,rightNick:t.target.value})),className:"flex-1 rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"}),e.jsx("input",{type:"text",placeholder:"å·¦å´æš±ç¨±ï¼ˆMï¼Œå¯ç”¨ / å¡«å¤šå€‹ï¼‰",value:z.leftNick,onChange:t=>A(a=>({...a,leftNick:t.target.value})),className:"flex-1 rounded-lg border border-stone-300 bg-white px-3 py-2 text-sm"})]}),e.jsx("p",{className:"text-[11px] text-stone-500",children:"å¯ç”¨ã€Œ/ã€åˆ†éš”å¤šå€‹åç¨±ï¼Œä¾‹å¦‚ï¼šä½ /Anniã€M/Michael"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:"flex-1 space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"å³å´é ­åƒ"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{const a=t.target.files?.[0];if(!a)return;const o=new FileReader;o.onload=()=>A(l=>({...l,rightAvatarDataUrl:o.result})),o.readAsDataURL(a)},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-1 text-xs"})]}),e.jsxs("label",{className:"flex-1 space-y-1",children:[e.jsx("span",{className:"text-xs text-stone-500",children:"å·¦å´é ­åƒ"}),e.jsx("input",{type:"file",accept:"image/*",onChange:t=>{const a=t.target.files?.[0];if(!a)return;const o=new FileReader;o.onload=()=>A(l=>({...l,leftAvatarDataUrl:o.result})),o.readAsDataURL(a)},className:"w-full rounded-lg border border-stone-300 bg-white px-2 py-1 text-xs"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{(async()=>!z.name.trim()||!await Bt({...z,id:`profile-${Date.now()}`})||(d({kind:"success",message:"è§’è‰²è¨­å®šå·²å„²å­˜"}),A({name:"",leftNick:"M",rightNick:"ä½ ",leftAvatarDataUrl:"",rightAvatarDataUrl:""}),ie(!1)))()},className:"flex-1 rounded-xl bg-stone-900 py-2 text-sm text-white",children:"å„²å­˜"}),e.jsx("button",{type:"button",onClick:()=>ie(!1),className:"flex-1 rounded-xl border border-stone-300 bg-white py-2 text-sm text-stone-600",children:"å–æ¶ˆ"})]})]}):e.jsx("button",{type:"button",onClick:()=>ie(!0),className:"w-full rounded-xl border border-violet-200 bg-violet-50 py-2 text-sm text-violet-700 transition active:opacity-80",children:"ï¼‹ æ–°å¢è§’è‰²è¨­å®š"})]})]})}),e.jsx(m,{icon:"ğŸ“š",title:"èªªæ˜æ›¸",subtitle:"ç¸½èªªæ˜ + æ›¸æ¶ + å¿ƒæƒ…æ˜Ÿçƒè½‰æª”",isOpen:x==="manuals",onToggle:()=>p("manuals"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{O("general"),se(!0)},className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"èªªæ˜æ›¸ I"}),e.jsx("button",{type:"button",onClick:()=>{O("bookshelf"),se(!0)},className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"èªªæ˜æ›¸ IIï¼ˆæ›¸æ¶ï¼‰"}),e.jsx("button",{type:"button",onClick:()=>{O("moodLetters"),se(!0)},className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"èªªæ˜æ›¸ IIIï¼ˆå¿ƒæƒ…æ˜Ÿçƒï¼‰"})]}),e.jsx("p",{className:"text-xs text-stone-500",children:"Iï¼šå…¨ç«™æ›´æ–°èˆ‡è³‡æ–™è·¯å¾‘ã€‚IIï¼šæ›¸æ¶æ–°å¢æµç¨‹ã€‚IIIï¼šå¿ƒæƒ…æ˜Ÿçƒ Word/TXT è½‰æª”èˆ‡åˆ†é¡ç¶­è­·ã€‚"})]})}),e.jsx(m,{icon:"ğŸ› ï¸",title:"æ‰‹å‹•æ“ä½œ",subtitle:"åˆ·æ–°è³‡æ–™èˆ‡åŒæ­¥æ™‚é–“",isOpen:x==="maintenance",onToggle:()=>p("maintenance"),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:Et,className:"w-full rounded-xl bg-stone-900 py-2.5 text-center text-sm text-white transition active:opacity-80",children:"é‡æ–°æ•´ç†æœ¬æ©Ÿè³‡æ–™"}),e.jsxs("p",{className:"text-xs text-stone-500",children:["ä¸Šæ¬¡æ›´æ–°ï¼š",s.lastSyncAt?new Date(s.lastSyncAt).toLocaleString():"å°šæœªæ›´æ–°"]})]})})]}),Jt&&e.jsx("div",{className:"fixed inset-0 z-[120] flex items-end justify-center bg-black/45 p-3 sm:items-center sm:p-6",children:e.jsxs("div",{className:"flex max-h-[88vh] w-full max-w-3xl flex-col overflow-hidden rounded-2xl border border-stone-200 bg-[#f8f5ef] shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-stone-200 px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-stone-500",children:"Manual"}),e.jsx("h3",{className:"text-base text-stone-900",children:I==="general"?"èªªæ˜æ›¸ Iï¼šå…¨ç«™æ›´æ–°":I==="bookshelf"?"èªªæ˜æ›¸ IIï¼šæ›¸æ¶ä½¿ç”¨":"èªªæ˜æ›¸ IIIï¼šå¿ƒæƒ…æ˜Ÿçƒè½‰æª”"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>O("general"),className:`rounded-full border px-2.5 py-1 text-[11px] ${I==="general"?"border-stone-800 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-600"}`,children:"I å…¨ç«™"}),e.jsx("button",{type:"button",onClick:()=>O("bookshelf"),className:`rounded-full border px-2.5 py-1 text-[11px] ${I==="bookshelf"?"border-stone-800 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-600"}`,children:"II æ›¸æ¶"}),e.jsx("button",{type:"button",onClick:()=>O("moodLetters"),className:`rounded-full border px-2.5 py-1 text-[11px] ${I==="moodLetters"?"border-stone-800 bg-stone-900 text-white":"border-stone-300 bg-white text-stone-600"}`,children:"III å¿ƒæƒ…æ˜Ÿçƒ"})]})]}),e.jsx("button",{type:"button",onClick:()=>se(!1),className:"grid h-8 w-8 place-items-center rounded-full border border-stone-300 bg-white text-xl leading-none text-stone-600","aria-label":"é—œé–‰èªªæ˜æ›¸",children:"Ã—"})]}),e.jsx("div",{className:"space-y-5 overflow-y-auto px-4 py-4 text-sm text-stone-700",children:I==="general"?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¦‚ä½•æ›´æ–°ï¼ˆä¸ç”¨æœ¬æ©Ÿæ¨é€ï¼‰"}),e.jsx("p",{children:"åˆ° GitHub å°ˆæ¡ˆä¸»é ç›´æ¥ä¸Šå‚³åˆ° `main` åˆ†æ”¯ä¹Ÿå¯ä»¥ã€‚æäº¤å¾Œç­‰å¾… Actions build/deployï¼Œæ‰‹æ©Ÿé‡æ•´å³å¯ã€‚"})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å°äººå°ˆå±¬æ± å°ç…§"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"é é¢"}),e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å‚™è¨»"})]})}),e.jsx("tbody",{children:Es.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.page}),e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note??"â€”"})]},`${t.page}-${t.path}`))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"è³‡æ–™å…§å®¹æª”ï¼ˆJSON/TXTï¼‰å°ç…§"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å°æ‡‰é é¢"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:Os.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.target}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note??"â€”"})]},`${t.path}-${t.target}`))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"åœ–ç‰‡/ç´ æå°ç…§"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å°æ‡‰é é¢"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:Ws.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.target}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note??"â€”"})]},`${t.path}-${t.target}`))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å­—é«”é—œè¯"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"å­—é«”ä¸­å¿ƒç¬¬ä¸€æ¬„ï¼ˆå­—é«”é è¨­ç®¡ç†ï¼‰ï¼šä¸Šå‚³å­—é«”ä¾†æºã€ä¿å­˜æˆè¨˜æ†¶ 1~10ã€‚"}),e.jsx("li",{children:"å­—é«”ä¸­å¿ƒç¬¬äºŒæ¬„ï¼ˆå­—é«”å¥—ç”¨ç¯„åœï¼‰ï¼šæŠŠè¨˜æ†¶ 1~10 å¥—ç”¨åˆ°æ•´ç«™/æƒ…æ›¸/æ—¥è¨˜/å®¶é ã€‚"}),e.jsx("li",{children:"å­—é«”ä¸­å¿ƒç¬¬ä¸‰æ¬„ï¼ˆç•¶å‰å¥—ç”¨æª¢è¦–ï¼‰ï¼šç´”é è¦½ç›®å‰æ¯å€‹ç¯„åœä½¿ç”¨ä¸­çš„å­—é«”ä¾†æºã€‚"}),e.jsx("li",{children:"ã€Œç©ºç™½ï¼ˆé‚„åŸé è¨­å­—é«”ï¼‰ã€å¯æŠŠå‹¾é¸é é¢æ¢å¾©ç‚ºé è¨­å­—é«”ã€‚"}),e.jsx("li",{children:"æ•´ç«™ï¼šå¤§å¤šæ•¸é é¢çš„åŸºåº•å­—é«”ã€‚"}),e.jsx("li",{children:"æ—¥è¨˜ï¼šM æ—¥è¨˜ã€Anni æ—¥è¨˜ã€é¡˜æœ›å…§æ–‡ã€‚"}),e.jsx("li",{children:"é¡˜æœ›æ¨™é¡Œ/é ç±¤ã€æ—¥è¨˜ M/B æ¨™é¡Œ/é ç±¤ã€ç¶“æœŸæ—¥è¨˜æ¨™é¡Œ/é ç±¤ï¼šå…¨ç«™å­—é«”ã€‚"}),e.jsx("li",{children:"å®¶é ï¼šåªå½±éŸ¿ã€Œå®¶ã€é–±è®€é ã€‚"})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"æ³¨æ„äº‹é …"}),e.jsx("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:Ls.map(t=>e.jsx("li",{children:t},t))})]})]}):I==="bookshelf"?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"æ›¸æ¶è³‡æ–™çµæ§‹ï¼ˆå¿…çœ‹ï¼‰"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å¿…è¦æ€§"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:zs.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.required}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note})]},t.path))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"æ–°å¢ä¸€æœ¬æ›¸ï¼ˆå®Œæ•´æµç¨‹ï¼‰"}),e.jsx("ol",{className:"list-decimal space-y-1 pl-5 text-xs text-stone-600",children:_s.map(t=>e.jsx("li",{children:t},t))})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"`bookshelf.json` ç¯„ä¾‹ï¼ˆå¯ç›´æ¥è¤‡è£½ï¼‰"}),e.jsx("pre",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white p-3 text-[11px] text-stone-700",children:$s})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¾ŒæœŸæ›åœ–ç‰‡ / è©¦é–‹æ–°æ›¸"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"æ›å°é¢ï¼šæ›¿æ› `cover.webp`ï¼ˆæˆ–æ”¹ `coverImage` æŒ‡å‘æ–°ç¶²å€ï¼‰ã€‚"}),e.jsx("li",{children:"æ›å…§é ï¼šæ›¿æ›å°æ‡‰ `001.webp`ã€`002.webp`...å³å¯ã€‚"}),e.jsx("li",{children:"é–±è®€é †åºåªçœ‹æª”åï¼š`001` æœƒåœ¨ `010` å‰é¢ï¼Œå»ºè­°éƒ½è£œé›¶ã€‚"}),e.jsx("li",{children:"è‡¨æ™‚æ¸¬è©¦æ›¸ï¼šå¯å…ˆåš `book-test`ï¼Œç¢ºèªå¾Œå†æ”¹æ­£å¼åç¨±ã€‚"}),e.jsx("li",{children:"è‹¥æ‰‹æ©Ÿçœ‹ä¸åˆ°æ›´æ–°ï¼Œå…ˆé‡æ•´ PWA å¿«å–å†é‡é–‹ã€‚"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¿ƒæƒ…æ˜Ÿçƒè³‡æ–™çµæ§‹ï¼ˆå¿…çœ‹ï¼‰"}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white",children:e.jsxs("table",{className:"min-w-full text-left text-xs",children:[e.jsx("thead",{className:"bg-stone-100 text-stone-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2",children:"è·¯å¾‘"}),e.jsx("th",{className:"px-2 py-2",children:"å¿…è¦æ€§"}),e.jsx("th",{className:"px-2 py-2",children:"ç”¨é€”"})]})}),e.jsx("tbody",{children:Gs.map(t=>e.jsxs("tr",{className:"border-t border-stone-100",children:[e.jsx("td",{className:"px-2 py-2 font-mono text-[11px] text-stone-700",children:t.path}),e.jsx("td",{className:"px-2 py-2 text-stone-800",children:t.required}),e.jsx("td",{className:"px-2 py-2 text-stone-500",children:t.note})]},t.path))})]})})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"Word/TXT è½‰æª” + æ–°å¢ä¿¡ä»¶ï¼ˆå®Œæ•´æµç¨‹ï¼‰"}),e.jsx("ol",{className:"list-decimal space-y-1 pl-5 text-xs text-stone-600",children:Rs.map(t=>e.jsx("li",{children:t},t))})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"`overrides.json` ç¯„ä¾‹ï¼ˆå¯ç›´æ¥è¤‡è£½ï¼‰"}),e.jsx("pre",{className:"overflow-x-auto rounded-lg border border-stone-200 bg-white p-3 text-[11px] text-stone-700",children:Hs})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"åˆ†é¡ä¿®æ­£é‡é»"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"ä¸ç”¨å…ˆæ‰‹å‹•æŠŠ Word è½‰ TXTã€‚è…³æœ¬æœƒè‡ªå‹•è§£æ `.doc/.docx/.txt`ã€‚"}),e.jsx("li",{children:"`overrides.json` çš„ key è¦å¡«å®Œæ•´æª”åï¼ˆåŒ…å«å‰¯æª”åï¼‰ã€‚"}),e.jsx("li",{children:'åŒä¸€å°ä¿¡å¯æ”¾å¤šåˆ†é¡ï¼Œä¾‹å¦‚ `["low", "support"]`ã€‚'}),e.jsx("li",{children:"æ¯æ¬¡æ”¹å®Œ overrides éƒ½è¦å†è·‘ä¸€æ¬¡ `npm run build:mood-letters`ã€‚"}),e.jsx("li",{children:"åˆ†é¡ id åƒè€ƒ `overrides.json` å…§çš„ `moodGuide` å€å¡Šï¼ˆè…³æœ¬æœƒè‡ªå‹•ç¶­è­·ï¼‰ã€‚"}),e.jsx("li",{children:"å¦‚æœ UI é¡¯ç¤ºæ•¸é‡ä¸å°ï¼Œå…ˆæª¢æŸ¥ `index.json` çš„ `total` èˆ‡ `summary.countsByMood`ã€‚"})]})]}),e.jsxs("section",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm text-stone-900",children:"å¸¸è¦‹å•é¡Œï¼ˆå¿«é€Ÿè§£ï¼‰"}),e.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-stone-600",children:[e.jsx("li",{children:"Qï¼šæ–°å¢äº†æª”æ¡ˆä½†å‰ç«¯çœ‹ä¸åˆ°ï¼ŸAï¼šé€šå¸¸æ˜¯é‚„æ²’è·‘ `npm run build:mood-letters`ã€‚"}),e.jsx("li",{children:"Qï¼šåˆ†é¡å¾ˆæ€ªï¼ŸAï¼šçœ‹ `review.json`ï¼ŒæŠŠé‚£å¹¾å°åŠ é€² overrides å†é‡è·‘ã€‚"}),e.jsx("li",{children:"Qï¼šåªæ”¹ `public/data/mood-letters/index.json` å¯ä»¥å—ï¼ŸAï¼šä¸å»ºè­°ï¼Œæœƒè¢«ä¸‹æ¬¡è…³æœ¬è¦†è“‹ã€‚"}),e.jsx("li",{children:"Qï¼šè¦å‚™ä»½å“ªè£¡ï¼ŸAï¼šè‡³å°‘ä¿ç•™ä¾†æº `åƒè€ƒè³‡æ–™/codex/å¿ƒæƒ…ä¿¡/` + `public/data/mood-letters/`ã€‚"})]})]})]})})]})})]})}export{qs as SettingsPage};
